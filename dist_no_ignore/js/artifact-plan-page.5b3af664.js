"use strict";(self["webpackChunkgenshin_artifacts"]=self["webpackChunkgenshin_artifacts"]||[]).push([[136],{40285:function(e,t,a){var n=a(10311);const l={preserveAspectRatio:"xMidYMid meet",viewBox:"0 0 1024 1024",width:"1.2em",height:"1.2em"},o=(0,n.createElementVNode)("path",{fill:"currentColor",d:"M128 192v640h768V320H485.76L357.504 192H128zm-32-64h287.872l128.384 128H928a32 32 0 0 1 32 32v576a32 32 0 0 1-32 32H96a32 32 0 0 1-32-32V160a32 32 0 0 1 32-32z"},null,-1),r=[o];function i(e,t){return(0,n.openBlock)(),(0,n.createElementBlock)("svg",l,r)}t["Z"]={name:"ep-folder",render:i}},96684:function(e,t,a){var n=a(10311);const l={preserveAspectRatio:"xMidYMid meet",viewBox:"0 0 1024 1024",width:"1.2em",height:"1.2em"},o=(0,n.createElementVNode)("path",{fill:"currentColor",d:"m795.904 750.72l124.992 124.928a32 32 0 0 1-45.248 45.248L750.656 795.904a416 416 0 1 1 45.248-45.248zM480 832a352 352 0 1 0 0-704a352 352 0 0 0 0 704z"},null,-1),r=[o];function i(e,t){return(0,n.openBlock)(),(0,n.createElementBlock)("svg",l,r)}t["Z"]={name:"ep-search",render:i}},40328:function(e,t,a){a.r(t),a.d(t,{default:function(){return io}});var n=a(10311),l=a(50592),o=a(89804),r=a(35267),i=(a(45177),a(31838)),c=(a(87228),a(28785)),d=(a(9638),a(65381)),s=(a(46273),a(90653)),u=(a(96152),a(38259),a(59462)),m=(a(98151),a(76398),a(33466),a(77049)),h=(a(7739),a(75915),a(14282)),p=(a(50580),a(19651));a(71683);const f="$treeNodeId",g=function(e,t){t&&!t[f]&&Object.defineProperty(t,f,{value:e.id,enumerable:!1,configurable:!1,writable:!1})},v=function(e,t){return e?t[e]:t[f]};var k=a(3577);const y=e=>{let t=!0,a=!0,n=!0;for(let l=0,o=e.length;l<o;l++){const o=e[l];(!0!==o.checked||o.indeterminate)&&(t=!1,o.disabled||(n=!1)),(!1!==o.checked||o.indeterminate)&&(a=!1)}return{all:t,none:a,allWithoutDisable:n,half:!t&&!a}},N=function(e){if(0===e.childNodes.length)return;const{all:t,none:a,half:n}=y(e.childNodes);t?(e.checked=!0,e.indeterminate=!1):n?(e.checked=!1,e.indeterminate=!0):a&&(e.checked=!1,e.indeterminate=!1);const l=e.parent;l&&0!==l.level&&(e.store.checkStrictly||N(l))},V=function(e,t){const a=e.store.props,n=e.data||{},l=a[t];if("function"===typeof l)return l(n,e);if("string"===typeof l)return n[l];if("undefined"===typeof l){const e=n[t];return void 0===e?"":e}};let C=0;class x{constructor(e){this.id=C++,this.text=null,this.checked=!1,this.indeterminate=!1,this.data=null,this.expanded=!1,this.parent=null,this.visible=!0,this.isCurrent=!1,this.canFocus=!1;for(const t in e)(0,k.RI)(e,t)&&(this[t]=e[t]);this.level=0,this.loaded=!1,this.childNodes=[],this.loading=!1,this.parent&&(this.level=this.parent.level+1)}initialize(){const e=this.store;if(!e)throw new Error("[Node]store is required!");e.registerNode(this);const t=e.props;if(t&&"undefined"!==typeof t.isLeaf){const e=V(this,"isLeaf");"boolean"===typeof e&&(this.isLeafByUser=e)}if(!0!==e.lazy&&this.data?(this.setData(this.data),e.defaultExpandAll&&(this.expanded=!0,this.canFocus=!0)):this.level>0&&e.lazy&&e.defaultExpandAll&&this.expand(),Array.isArray(this.data)||g(this,this.data),!this.data)return;const a=e.defaultExpandedKeys,n=e.key;n&&a&&a.includes(this.key)&&this.expand(null,e.autoExpandParent),n&&void 0!==e.currentNodeKey&&this.key===e.currentNodeKey&&(e.currentNode=this,e.currentNode.isCurrent=!0),e.lazy&&e._initDefaultCheckedNode(this),this.updateLeafState(),!this.parent||1!==this.level&&!0!==this.parent.expanded||(this.canFocus=!0)}setData(e){let t;Array.isArray(e)||g(this,e),this.data=e,this.childNodes=[],t=0===this.level&&Array.isArray(this.data)?this.data:V(this,"children")||[];for(let a=0,n=t.length;a<n;a++)this.insertChild({data:t[a]})}get label(){return V(this,"label")}get key(){const e=this.store.key;return this.data?this.data[e]:null}get disabled(){return V(this,"disabled")}get nextSibling(){const e=this.parent;if(e){const t=e.childNodes.indexOf(this);if(t>-1)return e.childNodes[t+1]}return null}get previousSibling(){const e=this.parent;if(e){const t=e.childNodes.indexOf(this);if(t>-1)return t>0?e.childNodes[t-1]:null}return null}contains(e,t=!0){return(this.childNodes||[]).some((a=>a===e||t&&a.contains(e)))}remove(){const e=this.parent;e&&e.removeChild(this)}insertChild(e,t,a){if(!e)throw new Error("InsertChild error: child is required.");if(!(e instanceof x)){if(!a){const a=this.getChildren(!0);a.includes(e.data)||("undefined"===typeof t||t<0?a.push(e.data):a.splice(t,0,e.data))}Object.assign(e,{parent:this,store:this.store}),e=(0,n.reactive)(new x(e)),e instanceof x&&e.initialize()}e.level=this.level+1,"undefined"===typeof t||t<0?this.childNodes.push(e):this.childNodes.splice(t,0,e),this.updateLeafState()}insertBefore(e,t){let a;t&&(a=this.childNodes.indexOf(t)),this.insertChild(e,a)}insertAfter(e,t){let a;t&&(a=this.childNodes.indexOf(t),-1!==a&&(a+=1)),this.insertChild(e,a)}removeChild(e){const t=this.getChildren()||[],a=t.indexOf(e.data);a>-1&&t.splice(a,1);const n=this.childNodes.indexOf(e);n>-1&&(this.store&&this.store.deregisterNode(e),e.parent=null,this.childNodes.splice(n,1)),this.updateLeafState()}removeChildByData(e){let t=null;for(let a=0;a<this.childNodes.length;a++)if(this.childNodes[a].data===e){t=this.childNodes[a];break}t&&this.removeChild(t)}expand(e,t){const a=()=>{if(t){let e=this.parent;while(e.level>0)e.expanded=!0,e=e.parent}this.expanded=!0,e&&e(),this.childNodes.forEach((e=>{e.canFocus=!0}))};this.shouldLoadData()?this.loadData((e=>{Array.isArray(e)&&(this.checked?this.setChecked(!0,!0):this.store.checkStrictly||N(this),a())})):a()}doCreateChildren(e,t={}){e.forEach((e=>{this.insertChild(Object.assign({data:e},t),void 0,!0)}))}collapse(){this.expanded=!1,this.childNodes.forEach((e=>{e.canFocus=!1}))}shouldLoadData(){return!0===this.store.lazy&&this.store.load&&!this.loaded}updateLeafState(){if(!0===this.store.lazy&&!0!==this.loaded&&"undefined"!==typeof this.isLeafByUser)return void(this.isLeaf=this.isLeafByUser);const e=this.childNodes;!this.store.lazy||!0===this.store.lazy&&!0===this.loaded?this.isLeaf=!e||0===e.length:this.isLeaf=!1}setChecked(e,t,a,n){if(this.indeterminate="half"===e,this.checked=!0===e,this.store.checkStrictly)return;if(!this.shouldLoadData()||this.store.checkDescendants){const{all:a,allWithoutDisable:l}=y(this.childNodes);this.isLeaf||a||!l||(this.checked=!1,e=!1);const o=()=>{if(t){const a=this.childNodes;for(let r=0,i=a.length;r<i;r++){const l=a[r];n=n||!1!==e;const o=l.disabled?l.checked:n;l.setChecked(o,t,!0,n)}const{half:l,all:o}=y(a);o||(this.checked=o,this.indeterminate=l)}};if(this.shouldLoadData())return void this.loadData((()=>{o(),N(this)}),{checked:!1!==e});o()}const l=this.parent;l&&0!==l.level&&(a||N(l))}getChildren(e=!1){if(0===this.level)return this.data;const t=this.data;if(!t)return null;const a=this.store.props;let n="children";return a&&(n=a.children||"children"),void 0===t[n]&&(t[n]=null),e&&!t[n]&&(t[n]=[]),t[n]}updateChildren(){const e=this.getChildren()||[],t=this.childNodes.map((e=>e.data)),a={},n=[];e.forEach(((e,l)=>{const o=e[f],r=!!o&&t.findIndex((e=>e[f]===o))>=0;r?a[o]={index:l,data:e}:n.push({index:l,data:e})})),this.store.lazy||t.forEach((e=>{a[e[f]]||this.removeChildByData(e)})),n.forEach((({index:e,data:t})=>{this.insertChild({data:t},e)})),this.updateLeafState()}loadData(e,t={}){if(!0!==this.store.lazy||!this.store.load||this.loaded||this.loading&&!Object.keys(t).length)e&&e.call(this);else{this.loading=!0;const a=a=>{this.loaded=!0,this.loading=!1,this.childNodes=[],this.doCreateChildren(a,t),this.updateLeafState(),e&&e.call(this,a)};this.store.load(this,a)}}}class E{constructor(e){this.currentNode=null,this.currentNodeKey=null;for(const t in e)(0,k.RI)(e,t)&&(this[t]=e[t]);this.nodesMap={}}initialize(){if(this.root=new x({data:this.data,store:this}),this.root.initialize(),this.lazy&&this.load){const e=this.load;e(this.root,(e=>{this.root.doCreateChildren(e),this._initDefaultCheckedNodes()}))}else this._initDefaultCheckedNodes()}filter(e){const t=this.filterNodeMethod,a=this.lazy,n=function(l){const o=l.root?l.root.childNodes:l.childNodes;if(o.forEach((a=>{a.visible=t.call(a,e,a.data,a),n(a)})),!l.visible&&o.length){let e=!0;e=!o.some((e=>e.visible)),l.root?l.root.visible=!1===e:l.visible=!1===e}e&&(!l.visible||l.isLeaf||a||l.expand())};n(this)}setData(e){const t=e!==this.root.data;t?(this.root.setData(e),this._initDefaultCheckedNodes()):this.root.updateChildren()}getNode(e){if(e instanceof x)return e;const t="object"!==typeof e?e:v(this.key,e);return this.nodesMap[t]||null}insertBefore(e,t){const a=this.getNode(t);a.parent.insertBefore({data:e},a)}insertAfter(e,t){const a=this.getNode(t);a.parent.insertAfter({data:e},a)}remove(e){const t=this.getNode(e);t&&t.parent&&(t===this.currentNode&&(this.currentNode=null),t.parent.removeChild(t))}append(e,t){const a=t?this.getNode(t):this.root;a&&a.insertChild({data:e})}_initDefaultCheckedNodes(){const e=this.defaultCheckedKeys||[],t=this.nodesMap;e.forEach((e=>{const a=t[e];a&&a.setChecked(!0,!this.checkStrictly)}))}_initDefaultCheckedNode(e){const t=this.defaultCheckedKeys||[];t.includes(e.key)&&e.setChecked(!0,!this.checkStrictly)}setDefaultCheckedKey(e){e!==this.defaultCheckedKeys&&(this.defaultCheckedKeys=e,this._initDefaultCheckedNodes())}registerNode(e){const t=this.key;if(e&&e.data)if(t){const t=e.key;void 0!==t&&(this.nodesMap[e.key]=e)}else this.nodesMap[e.id]=e}deregisterNode(e){const t=this.key;t&&e&&e.data&&(e.childNodes.forEach((e=>{this.deregisterNode(e)})),delete this.nodesMap[e.key])}getCheckedNodes(e=!1,t=!1){const a=[],n=function(l){const o=l.root?l.root.childNodes:l.childNodes;o.forEach((l=>{(l.checked||t&&l.indeterminate)&&(!e||e&&l.isLeaf)&&a.push(l.data),n(l)}))};return n(this),a}getCheckedKeys(e=!1){return this.getCheckedNodes(e).map((e=>(e||{})[this.key]))}getHalfCheckedNodes(){const e=[],t=function(a){const n=a.root?a.root.childNodes:a.childNodes;n.forEach((a=>{a.indeterminate&&e.push(a.data),t(a)}))};return t(this),e}getHalfCheckedKeys(){return this.getHalfCheckedNodes().map((e=>(e||{})[this.key]))}_getAllNodes(){const e=[],t=this.nodesMap;for(const a in t)(0,k.RI)(t,a)&&e.push(t[a]);return e}updateChildren(e,t){const a=this.nodesMap[e];if(!a)return;const n=a.childNodes;for(let l=n.length-1;l>=0;l--){const e=n[l];this.remove(e.data)}for(let l=0,o=t.length;l<o;l++){const e=t[l];this.append(e,a.data)}}_setCheckedKeys(e,t=!1,a){const n=this._getAllNodes().sort(((e,t)=>t.level-e.level)),l=Object.create(null),o=Object.keys(a);n.forEach((e=>e.setChecked(!1,!1)));for(let r=0,i=n.length;r<i;r++){const a=n[r],i=a.data[e].toString(),c=o.includes(i);if(!c){a.checked&&!l[i]&&a.setChecked(!1,!1);continue}let d=a.parent;while(d&&d.level>0)l[d.data[e]]=!0,d=d.parent;if(a.isLeaf||this.checkStrictly)a.setChecked(!0,!1);else if(a.setChecked(!0,!0),t){a.setChecked(!1,!1);const e=function(t){const a=t.childNodes;a.forEach((t=>{t.isLeaf||t.setChecked(!1,!1),e(t)}))};e(a)}}}setCheckedNodes(e,t=!1){const a=this.key,n={};e.forEach((e=>{n[(e||{})[a]]=!0})),this._setCheckedKeys(a,t,n)}setCheckedKeys(e,t=!1){this.defaultCheckedKeys=e;const a=this.key,n={};e.forEach((e=>{n[e]=!0})),this._setCheckedKeys(a,t,n)}setDefaultExpandedKeys(e){e=e||[],this.defaultExpandedKeys=e,e.forEach((e=>{const t=this.getNode(e);t&&t.expand(null,this.autoExpandParent)}))}setChecked(e,t,a){const n=this.getNode(e);n&&n.setChecked(!!t,a)}getCurrentNode(){return this.currentNode}setCurrentNode(e){const t=this.currentNode;t&&(t.isCurrent=!1),this.currentNode=e,this.currentNode.isCurrent=!0}setUserCurrentNode(e,t=!0){const a=e[this.key],n=this.nodesMap[a];this.setCurrentNode(n),t&&this.currentNode.level>1&&this.currentNode.parent.expand(null,!0)}setCurrentNodeKey(e,t=!0){if(null===e||void 0===e)return this.currentNode&&(this.currentNode.isCurrent=!1),void(this.currentNode=null);const a=this.getNode(e);a&&(this.setCurrentNode(a),t&&this.currentNode.level>1&&this.currentNode.parent.expand(null,!0))}}var S=a(16628),b=a(94509),B=a(86660),w=a(13181),D=a(1446),_=a(25299);const M=(0,n.defineComponent)({name:"ElTreeNodeContent",props:{node:{type:Object,required:!0},renderContent:Function},setup(e){const t=(0,_.s)("tree"),a=(0,n.inject)("NodeInstance"),l=(0,n.inject)("RootTree");return()=>{const o=e.node,{data:r,store:i}=o;return e.renderContent?e.renderContent(n.h,{_self:a,node:o,data:r,store:i}):l.ctx.slots.default?l.ctx.slots.default({node:o,data:r}):(0,n.h)("span",{class:t.be("node","label")},[o.label])}}});var T=(0,D.Z)(M,[["__file","/home/runner/work/element-plus/element-plus/packages/components/tree/src/tree-node-content.vue"]]);function R(e){const t=(0,n.inject)("TreeNodeMap",null),a={treeNodeExpand:t=>{e.node!==t&&e.node.collapse()},children:[]};return t&&t.children.push(a),(0,n.provide)("TreeNodeMap",a),{broadcastExpanded:t=>{if(e.accordion)for(const e of a.children)e.treeNodeExpand(t)}}}var A=a(68818);const F=Symbol("dragEvents");function L({props:e,ctx:t,el$:a,dropIndicator$:l,store:o}){const r=(0,_.s)("tree"),i=(0,n.ref)({showDropIndicator:!1,draggingNode:null,dropNode:null,allowDrop:!0,dropType:null}),c=({event:a,treeNode:n})=>{if("function"===typeof e.allowDrag&&!e.allowDrag(n.node))return a.preventDefault(),!1;a.dataTransfer.effectAllowed="move";try{a.dataTransfer.setData("text/plain","")}catch(l){}i.value.draggingNode=n,t.emit("node-drag-start",n.node,a)},d=({event:n,treeNode:o})=>{const c=o,d=i.value.dropNode;d&&d!==c&&(0,A.IV)(d.$el,r.is("drop-inner"));const s=i.value.draggingNode;if(!s||!c)return;let u=!0,m=!0,h=!0,p=!0;"function"===typeof e.allowDrop&&(u=e.allowDrop(s.node,c.node,"prev"),p=m=e.allowDrop(s.node,c.node,"inner"),h=e.allowDrop(s.node,c.node,"next")),n.dataTransfer.dropEffect=m||u||h?"move":"none",(u||m||h)&&d!==c&&(d&&t.emit("node-drag-leave",s.node,d.node,n),t.emit("node-drag-enter",s.node,c.node,n)),(u||m||h)&&(i.value.dropNode=c),c.node.nextSibling===s.node&&(h=!1),c.node.previousSibling===s.node&&(u=!1),c.node.contains(s.node,!1)&&(m=!1),(s.node===c.node||s.node.contains(c.node))&&(u=!1,m=!1,h=!1);const f=c.$el.getBoundingClientRect(),g=a.value.getBoundingClientRect();let v;const k=u?m?.25:h?.45:1:-1,y=h?m?.75:u?.55:0:1;let N=-9999;const V=n.clientY-f.top;v=V<f.height*k?"before":V>f.height*y?"after":m?"inner":"none";const C=c.$el.querySelector(`.${r.be("node","expand-icon")}`).getBoundingClientRect(),x=l.value;"before"===v?N=C.top-g.top:"after"===v&&(N=C.bottom-g.top),x.style.top=`${N}px`,x.style.left=C.right-g.left+"px","inner"===v?(0,A.cn)(c.$el,r.is("drop-inner")):(0,A.IV)(c.$el,r.is("drop-inner")),i.value.showDropIndicator="before"===v||"after"===v,i.value.allowDrop=i.value.showDropIndicator||p,i.value.dropType=v,t.emit("node-drag-over",s.node,c.node,n)},s=e=>{const{draggingNode:a,dropType:n,dropNode:l}=i.value;if(e.preventDefault(),e.dataTransfer.dropEffect="move",a&&l){const i={data:a.node.data};"none"!==n&&a.node.remove(),"before"===n?l.node.parent.insertBefore(i,l.node):"after"===n?l.node.parent.insertAfter(i,l.node):"inner"===n&&l.node.insertChild(i),"none"!==n&&o.value.registerNode(i),(0,A.IV)(l.$el,r.is("drop-inner")),t.emit("node-drag-end",a.node,l.node,n,e),"none"!==n&&t.emit("node-drop",a.node,l.node,n,e)}a&&!l&&t.emit("node-drag-end",a.node,null,n,e),i.value.showDropIndicator=!1,i.value.draggingNode=null,i.value.dropNode=null,i.value.allowDrop=!0};return(0,n.provide)(F,{treeNodeDragStart:c,treeNodeDragOver:d,treeNodeDragEnd:s}),{dragState:i}}var z=a(6966);const P=(0,n.defineComponent)({name:"ElTreeNode",components:{ElCollapseTransition:S.Z,ElCheckbox:b.Xb,NodeContent:T,ElIcon:B.gn,Loading:w.gbz},props:{node:{type:x,default:()=>({})},props:{type:Object,default:()=>({})},accordion:Boolean,renderContent:Function,renderAfterExpand:Boolean,showCheckbox:{type:Boolean,default:!1}},emits:["node-expand"],setup(e,t){const a=(0,_.s)("tree"),{broadcastExpanded:l}=R(e),o=(0,n.inject)("RootTree"),r=(0,n.ref)(!1),i=(0,n.ref)(!1),c=(0,n.ref)(null),d=(0,n.ref)(null),s=(0,n.ref)(null),u=(0,n.inject)(F),m=(0,n.getCurrentInstance)();(0,n.provide)("NodeInstance",m),o||(0,z.N)("Tree","Can not find node's tree."),e.node.expanded&&(r.value=!0,i.value=!0);const h=o.props["children"]||"children";(0,n.watch)((()=>{const t=e.node.data[h];return t&&[...t]}),(()=>{e.node.updateChildren()})),(0,n.watch)((()=>e.node.indeterminate),(t=>{g(e.node.checked,t)})),(0,n.watch)((()=>e.node.checked),(t=>{g(t,e.node.indeterminate)})),(0,n.watch)((()=>e.node.expanded),(e=>{(0,n.nextTick)((()=>r.value=e)),e&&(i.value=!0)}));const p=e=>v(o.props.nodeKey,e.data),f=t=>{const a=e.props.class;if(!a)return{};let n;if((0,k.mf)(a)){const{data:e}=t;n=a(e,t)}else n=a;return(0,k.HD)(n)?{[n]:!0}:n},g=(t,a)=>{c.value===t&&d.value===a||o.ctx.emit("check-change",e.node.data,t,a),c.value=t,d.value=a},y=t=>{const a=o.store.value;a.setCurrentNode(e.node),o.ctx.emit("current-change",a.currentNode?a.currentNode.data:null,a.currentNode),o.currentNode.value=e.node,o.props.expandOnClickNode&&V(),o.props.checkOnClickNode&&!e.node.disabled&&C(null,{target:{checked:!e.node.checked}}),o.ctx.emit("node-click",e.node.data,e.node,m,t)},N=t=>{o.instance.vnode.props["onNodeContextmenu"]&&(t.stopPropagation(),t.preventDefault()),o.ctx.emit("node-contextmenu",t,e.node.data,e.node,m)},V=()=>{e.node.isLeaf||(r.value?(o.ctx.emit("node-collapse",e.node.data,e.node,m),e.node.collapse()):(e.node.expand(),t.emit("node-expand",e.node.data,e.node,m)))},C=(t,a)=>{e.node.setChecked(a.target.checked,!o.props.checkStrictly),(0,n.nextTick)((()=>{const t=o.store.value;o.ctx.emit("check",e.node.data,{checkedNodes:t.getCheckedNodes(),checkedKeys:t.getCheckedKeys(),halfCheckedNodes:t.getHalfCheckedNodes(),halfCheckedKeys:t.getHalfCheckedKeys()})}))},x=(e,t,a)=>{l(t),o.ctx.emit("node-expand",e,t,a)},E=t=>{o.props.draggable&&u.treeNodeDragStart({event:t,treeNode:e})},S=t=>{t.preventDefault(),o.props.draggable&&u.treeNodeDragOver({event:t,treeNode:{$el:s.value,node:e.node}})},b=e=>{e.preventDefault()},B=e=>{o.props.draggable&&u.treeNodeDragEnd(e)};return{ns:a,node$:s,tree:o,expanded:r,childNodeRendered:i,oldChecked:c,oldIndeterminate:d,getNodeKey:p,getNodeClass:f,handleSelectChange:g,handleClick:y,handleContextMenu:N,handleExpandIconClick:V,handleCheckChange:C,handleChildNodeExpand:x,handleDragStart:E,handleDragOver:S,handleDrop:b,handleDragEnd:B,CaretRight:w.TZ}}}),K=["aria-expanded","aria-disabled","aria-checked","draggable","data-key"],U=["aria-expanded"];function I(e,t,a,l,o,r){const i=(0,n.resolveComponent)("el-icon"),c=(0,n.resolveComponent)("el-checkbox"),d=(0,n.resolveComponent)("loading"),s=(0,n.resolveComponent)("node-content"),u=(0,n.resolveComponent)("el-tree-node"),m=(0,n.resolveComponent)("el-collapse-transition");return(0,n.withDirectives)(((0,n.openBlock)(),(0,n.createElementBlock)("div",{ref:"node$",class:(0,n.normalizeClass)([e.ns.b("node"),e.ns.is("expanded",e.expanded),e.ns.is("current",e.node.isCurrent),e.ns.is("hidden",!e.node.visible),e.ns.is("focusable",!e.node.disabled),e.ns.is("checked",!e.node.disabled&&e.node.checked),e.getNodeClass(e.node)]),role:"treeitem",tabindex:"-1","aria-expanded":e.expanded,"aria-disabled":e.node.disabled,"aria-checked":e.node.checked,draggable:e.tree.props.draggable,"data-key":e.getNodeKey(e.node),onClick:t[1]||(t[1]=(0,n.withModifiers)(((...t)=>e.handleClick&&e.handleClick(...t)),["stop"])),onContextmenu:t[2]||(t[2]=(...t)=>e.handleContextMenu&&e.handleContextMenu(...t)),onDragstart:t[3]||(t[3]=(0,n.withModifiers)(((...t)=>e.handleDragStart&&e.handleDragStart(...t)),["stop"])),onDragover:t[4]||(t[4]=(0,n.withModifiers)(((...t)=>e.handleDragOver&&e.handleDragOver(...t)),["stop"])),onDragend:t[5]||(t[5]=(0,n.withModifiers)(((...t)=>e.handleDragEnd&&e.handleDragEnd(...t)),["stop"])),onDrop:t[6]||(t[6]=(0,n.withModifiers)(((...t)=>e.handleDrop&&e.handleDrop(...t)),["stop"]))},[(0,n.createElementVNode)("div",{class:(0,n.normalizeClass)(e.ns.be("node","content")),style:(0,n.normalizeStyle)({paddingLeft:(e.node.level-1)*e.tree.props.indent+"px"})},[e.tree.props.icon||e.CaretRight?((0,n.openBlock)(),(0,n.createBlock)(i,{key:0,class:(0,n.normalizeClass)([e.ns.be("node","expand-icon"),e.ns.is("leaf",e.node.isLeaf),{expanded:!e.node.isLeaf&&e.expanded}]),onClick:(0,n.withModifiers)(e.handleExpandIconClick,["stop"])},{default:(0,n.withCtx)((()=>[((0,n.openBlock)(),(0,n.createBlock)((0,n.resolveDynamicComponent)(e.tree.props.icon||e.CaretRight)))])),_:1},8,["class","onClick"])):(0,n.createCommentVNode)("v-if",!0),e.showCheckbox?((0,n.openBlock)(),(0,n.createBlock)(c,{key:1,"model-value":e.node.checked,indeterminate:e.node.indeterminate,disabled:!!e.node.disabled,onClick:t[0]||(t[0]=(0,n.withModifiers)((()=>{}),["stop"])),onChange:e.handleCheckChange},null,8,["model-value","indeterminate","disabled","onChange"])):(0,n.createCommentVNode)("v-if",!0),e.node.loading?((0,n.openBlock)(),(0,n.createBlock)(i,{key:2,class:(0,n.normalizeClass)([e.ns.be("node","loading-icon"),e.ns.is("loading")])},{default:(0,n.withCtx)((()=>[(0,n.createVNode)(d)])),_:1},8,["class"])):(0,n.createCommentVNode)("v-if",!0),(0,n.createVNode)(s,{node:e.node,"render-content":e.renderContent},null,8,["node","render-content"])],6),(0,n.createVNode)(m,null,{default:(0,n.withCtx)((()=>[!e.renderAfterExpand||e.childNodeRendered?(0,n.withDirectives)(((0,n.openBlock)(),(0,n.createElementBlock)("div",{key:0,class:(0,n.normalizeClass)(e.ns.be("node","children")),role:"group","aria-expanded":e.expanded},[((0,n.openBlock)(!0),(0,n.createElementBlock)(n.Fragment,null,(0,n.renderList)(e.node.childNodes,(t=>((0,n.openBlock)(),(0,n.createBlock)(u,{key:e.getNodeKey(t),"render-content":e.renderContent,"render-after-expand":e.renderAfterExpand,"show-checkbox":e.showCheckbox,node:t,accordion:e.accordion,props:e.props,onNodeExpand:e.handleChildNodeExpand},null,8,["render-content","render-after-expand","show-checkbox","node","accordion","props","onNodeExpand"])))),128))],10,U)),[[n.vShow,e.expanded]]):(0,n.createCommentVNode)("v-if",!0)])),_:1})],42,K)),[[n.vShow,e.node.visible]])}var Z=(0,D.Z)(P,[["render",I],["__file","/home/runner/work/element-plus/element-plus/packages/components/tree/src/tree-node.vue"]]),$=a(28754),O=a(66266);function H({el$:e},t){const a=(0,_.s)("tree"),l=(0,n.shallowRef)([]),o=(0,n.shallowRef)([]);(0,n.onMounted)((()=>{i(),(0,$.on)(e.value,"keydown",r)})),(0,n.onBeforeUnmount)((()=>{(0,$.S1)(e.value,"keydown",r)})),(0,n.onUpdated)((()=>{l.value=Array.from(e.value.querySelectorAll("[role=treeitem]")),o.value=Array.from(e.value.querySelectorAll("input[type=checkbox]"))})),(0,n.watch)(o,(e=>{e.forEach((e=>{e.setAttribute("tabindex","-1")}))}));const r=n=>{const o=n.target;if(!o.className.includes(a.b("node")))return;const r=n.code;l.value=Array.from(e.value.querySelectorAll(`.${a.is("focusable")}[role=treeitem]`));const i=l.value.indexOf(o);let c;if([O.n.up,O.n.down].includes(r)){if(n.preventDefault(),r===O.n.up){c=-1===i?0:0!==i?i-1:l.value.length-1;const e=c;while(1){if(t.value.getNode(l.value[c].dataset.key).canFocus)break;if(c--,c===e){c=-1;break}c<0&&(c=l.value.length-1)}}else{c=-1===i?0:i<l.value.length-1?i+1:0;const e=c;while(1){if(t.value.getNode(l.value[c].dataset.key).canFocus)break;if(c++,c===e){c=-1;break}c>=l.value.length&&(c=0)}}-1!==c&&l.value[c].focus()}[O.n.left,O.n.right].includes(r)&&(n.preventDefault(),o.click());const d=o.querySelector('[type="checkbox"]');[O.n.enter,O.n.space].includes(r)&&d&&(n.preventDefault(),d.click())},i=()=>{var t;l.value=Array.from(e.value.querySelectorAll(`.${a.is("focusable")}[role=treeitem]`)),o.value=Array.from(e.value.querySelectorAll("input[type=checkbox]"));const n=e.value.querySelectorAll(`.${a.is("checked")}[role=treeitem]`);n.length?n[0].setAttribute("tabindex","0"):null==(t=l.value[0])||t.setAttribute("tabindex","0")}}var j=a(69559),q=a(80546);const W=(0,n.defineComponent)({name:"ElTree",components:{ElTreeNode:Z},props:{data:{type:Array,default:()=>[]},emptyText:{type:String},renderAfterExpand:{type:Boolean,default:!0},nodeKey:String,checkStrictly:Boolean,defaultExpandAll:Boolean,expandOnClickNode:{type:Boolean,default:!0},checkOnClickNode:Boolean,checkDescendants:{type:Boolean,default:!1},autoExpandParent:{type:Boolean,default:!0},defaultCheckedKeys:Array,defaultExpandedKeys:Array,currentNodeKey:[String,Number],renderContent:Function,showCheckbox:{type:Boolean,default:!1},draggable:{type:Boolean,default:!1},allowDrag:Function,allowDrop:Function,props:{type:Object,default:()=>({children:"children",label:"label",disabled:"disabled"})},lazy:{type:Boolean,default:!1},highlightCurrent:Boolean,load:Function,filterNodeMethod:Function,accordion:Boolean,indent:{type:Number,default:18},icon:[String,Object]},emits:["check-change","current-change","node-click","node-contextmenu","node-collapse","node-expand","check","node-drag-start","node-drag-end","node-drop","node-drag-leave","node-drag-enter","node-drag-over"],setup(e,t){const{t:a}=(0,j.bU)(),l=(0,_.s)("tree"),o=(0,n.ref)(new E({key:e.nodeKey,data:e.data,lazy:e.lazy,props:e.props,load:e.load,currentNodeKey:e.currentNodeKey,checkStrictly:e.checkStrictly,checkDescendants:e.checkDescendants,defaultCheckedKeys:e.defaultCheckedKeys,defaultExpandedKeys:e.defaultExpandedKeys,autoExpandParent:e.autoExpandParent,defaultExpandAll:e.defaultExpandAll,filterNodeMethod:e.filterNodeMethod}));o.value.initialize();const r=(0,n.ref)(o.value.root),i=(0,n.ref)(null),c=(0,n.ref)(null),d=(0,n.ref)(null),{broadcastExpanded:s}=R(e),{dragState:u}=L({props:e,ctx:t,el$:c,dropIndicator$:d,store:o});H({el$:c},o);const m=(0,n.computed)((()=>{const{childNodes:e}=r.value;return!e||0===e.length||e.every((({visible:e})=>!e))}));(0,n.watch)((()=>e.defaultCheckedKeys),(e=>{o.value.setDefaultCheckedKey(e)})),(0,n.watch)((()=>e.defaultExpandedKeys),(e=>{o.value.setDefaultExpandedKeys(e)})),(0,n.watch)((()=>e.data),(e=>{o.value.setData(e)}),{deep:!0}),(0,n.watch)((()=>e.checkStrictly),(e=>{o.value.checkStrictly=e}));const h=t=>{if(!e.filterNodeMethod)throw new Error("[Tree] filterNodeMethod is required when filter");o.value.filter(t)},p=t=>v(e.nodeKey,t.data),f=t=>{if(!e.nodeKey)throw new Error("[Tree] nodeKey is required in getNodePath");const a=o.value.getNode(t);if(!a)return[];const n=[a.data];let l=a.parent;while(l&&l!==r.value)n.push(l.data),l=l.parent;return n.reverse()},g=(e,t)=>o.value.getCheckedNodes(e,t),k=e=>o.value.getCheckedKeys(e),y=()=>{const e=o.value.getCurrentNode();return e?e.data:null},N=()=>{if(!e.nodeKey)throw new Error("[Tree] nodeKey is required in getCurrentKey");const t=y();return t?t[e.nodeKey]:null},V=(t,a)=>{if(!e.nodeKey)throw new Error("[Tree] nodeKey is required in setCheckedNodes");o.value.setCheckedNodes(t,a)},C=(t,a)=>{if(!e.nodeKey)throw new Error("[Tree] nodeKey is required in setCheckedKeys");o.value.setCheckedKeys(t,a)},x=(e,t,a)=>{o.value.setChecked(e,t,a)},S=()=>o.value.getHalfCheckedNodes(),b=()=>o.value.getHalfCheckedKeys(),B=(t,a=!0)=>{if(!e.nodeKey)throw new Error("[Tree] nodeKey is required in setCurrentNode");o.value.setUserCurrentNode(t,a)},w=(t,a=!0)=>{if(!e.nodeKey)throw new Error("[Tree] nodeKey is required in setCurrentKey");o.value.setCurrentNodeKey(t,a)},D=e=>o.value.getNode(e),M=e=>{o.value.remove(e)},T=(e,t)=>{o.value.append(e,t)},A=(e,t)=>{o.value.insertBefore(e,t)},F=(e,t)=>{o.value.insertAfter(e,t)},z=(e,a,n)=>{s(a),t.emit("node-expand",e,a,n)},P=(t,a)=>{if(!e.nodeKey)throw new Error("[Tree] nodeKey is required in updateKeyChild");o.value.updateChildren(t,a)};return(0,n.provide)("RootTree",{ctx:t,props:e,store:o,root:r,currentNode:i,instance:(0,n.getCurrentInstance)()}),(0,n.provide)(q.K,void 0),{ns:l,store:o,root:r,currentNode:i,dragState:u,el$:c,dropIndicator$:d,isEmpty:m,filter:h,getNodeKey:p,getNodePath:f,getCheckedNodes:g,getCheckedKeys:k,getCurrentNode:y,getCurrentKey:N,setCheckedNodes:V,setCheckedKeys:C,setChecked:x,getHalfCheckedNodes:S,getHalfCheckedKeys:b,setCurrentNode:B,setCurrentKey:w,t:a,getNode:D,remove:M,append:T,insertBefore:A,insertAfter:F,handleNodeExpand:z,updateKeyChildren:P}}});function Q(e,t,a,l,o,r){var i;const c=(0,n.resolveComponent)("el-tree-node");return(0,n.openBlock)(),(0,n.createElementBlock)("div",{ref:"el$",class:(0,n.normalizeClass)([e.ns.b(),e.ns.is("dragging",!!e.dragState.draggingNode),e.ns.is("drop-not-allow",!e.dragState.allowDrop),e.ns.is("drop-inner","inner"===e.dragState.dropType),{[e.ns.m("highlight-current")]:e.highlightCurrent}]),role:"tree"},[((0,n.openBlock)(!0),(0,n.createElementBlock)(n.Fragment,null,(0,n.renderList)(e.root.childNodes,(t=>((0,n.openBlock)(),(0,n.createBlock)(c,{key:e.getNodeKey(t),node:t,props:e.props,accordion:e.accordion,"render-after-expand":e.renderAfterExpand,"show-checkbox":e.showCheckbox,"render-content":e.renderContent,onNodeExpand:e.handleNodeExpand},null,8,["node","props","accordion","render-after-expand","show-checkbox","render-content","onNodeExpand"])))),128)),e.isEmpty?((0,n.openBlock)(),(0,n.createElementBlock)("div",{key:0,class:(0,n.normalizeClass)(e.ns.e("empty-block"))},[(0,n.createElementVNode)("span",{class:(0,n.normalizeClass)(e.ns.e("empty-text"))},(0,n.toDisplayString)(null!=(i=e.emptyText)?i:e.t("el.tree.emptyText")),3)],2)):(0,n.createCommentVNode)("v-if",!0),(0,n.withDirectives)((0,n.createElementVNode)("div",{ref:"dropIndicator$",class:(0,n.normalizeClass)(e.ns.e("drop-indicator"))},null,2),[[n.vShow,e.dragState.showDropIndicator]])],2)}var Y=(0,D.Z)(W,[["render",Q],["__file","/home/runner/work/element-plus/element-plus/packages/components/tree/src/tree.vue"]]);Y.install=e=>{e.component(Y.name,Y)};const G=Y,X=G;a(3392),a(13171);var J=a(7810),ee=(a(44163),a(62076)),te=(a(49005),a(97850),a(76404)),ae=(a(74694),a(25791));a(20048);const ne={preserveAspectRatio:"xMidYMid meet",viewBox:"0 0 512 512",width:"1.2em",height:"1.2em"},le=(0,n.createElementVNode)("path",{fill:"currentColor",d:"M256 0C114.6 0 0 114.6 0 256s114.6 256 256 256s256-114.6 256-256S397.4 0 256 0zm0 400c-18 0-32-14-32-32s13.1-32 32-32c17.1 0 32 14 32 32s-14.9 32-32 32zm69.1-142L280 286v2c0 13-11 24-24 24s-24-11-24-24v-16c0-8 4-16 12-21l57-34c7-4 11-11 11-19c0-12-10.9-22-22.9-22H238c-12.9 0-22 10-22 22c0 13-11 24-24 24s-24-11-24-24c0-39 31-70 69.1-70h51.1c40.8 0 71.8 31 71.8 70c0 24-13 47-34.9 60z"},null,-1),oe=[le];function re(e,t){return(0,n.openBlock)(),(0,n.createElementBlock)("svg",ne,oe)}var ie={name:"fa6-solid-circle-question",render:re},ce=a(8350),de=(a(12573),a(33948),a(3857)),se=a(5746),ue=a(59e3),me=a(70084),he=a(57979),pe=a(83549),fe=a(41704),ge=a(23407),ve=a(14971),ke=a(68515),ye=a(49324),Ne=a(36939),Ve=a(29491);a(50657),a(54968),a(60096);const Ce={class:"option-root"},xe=["src"],Ee={class:"option-body"},Se={class:"option-title"},be={class:"option-root"},Be=["src"],we={class:"option-body"},De={class:"option-title"};function _e(e,t,a,l,o,r){const i=Ve.BT,c=Ve.LC,d=Ve.km;return(0,n.openBlock)(),(0,n.createBlock)(d,{"model-value":a.modelValue,"onUpdate:modelValue":t[0]||(t[0]=t=>e.$emit("update:modelValue",t)),placeholder:l.t("misc.tf")},{default:(0,n.withCtx)((()=>[r.characterTargetFunctionList&&r.characterTargetFunctionList.length>0?((0,n.openBlock)(),(0,n.createBlock)(c,{key:0,label:l.t("misc.charSpecific")},{default:(0,n.withCtx)((()=>[((0,n.openBlock)(!0),(0,n.createElementBlock)(n.Fragment,null,(0,n.renderList)(r.characterTargetFunctionList,(e=>((0,n.openBlock)(),(0,n.createBlock)(i,{key:e.name,label:l.ta(e.nameLocale),value:e.name},{default:(0,n.withCtx)((()=>[(0,n.createElementVNode)("div",Ce,[(0,n.createElementVNode)("img",{class:"option-badge",src:e.badge},null,8,xe),(0,n.createElementVNode)("div",Ee,[(0,n.createElementVNode)("p",Se,(0,n.toDisplayString)(l.ta(e.nameLocale)),1)])])])),_:2},1032,["label","value"])))),128))])),_:1},8,["label"])):(0,n.createCommentVNode)("",!0),o.commonTargetFunctionList?((0,n.openBlock)(),(0,n.createBlock)(c,{key:1,label:l.t("misc.general")},{default:(0,n.withCtx)((()=>[((0,n.openBlock)(!0),(0,n.createElementBlock)(n.Fragment,null,(0,n.renderList)(o.commonTargetFunctionList,(e=>((0,n.openBlock)(),(0,n.createBlock)(i,{key:e.name,label:l.ta(e.nameLocale),value:e.name},{default:(0,n.withCtx)((()=>[(0,n.createElementVNode)("div",be,[(0,n.createElementVNode)("img",{class:"option-badge",src:e.badge},null,8,Be),(0,n.createElementVNode)("div",we,[(0,n.createElementVNode)("p",De,(0,n.toDisplayString)(l.ta(e.nameLocale)),1)])])])),_:2},1032,["label","value"])))),128))])),_:1},8,["label"])):(0,n.createCommentVNode)("",!0)])),_:1},8,["model-value","placeholder"])}var Me=a(53355),Te=a(9012),Re={name:"SelectTargetFunction",props:{modelValue:{},characterName:{default:"Amber"}},emits:["update:modelValue"],data(){return{commonTargetFunctionList:Me.e.common}},computed:{characterTargetFunctionList(){var e;return null!==(e=Me.e[this.characterName])&&void 0!==e?e:[]}},setup(){const{t:e,ta:t}=(0,Te.QT)();return{t:e,ta:t}}},Ae=a(83744);const Fe=(0,Ae.Z)(Re,[["render",_e],["__scopeId","data-v-041433b8"]]);var Le=Fe,ze=a(62641),Pe=(0,n.defineComponent)({__name:"SelectCharacterSkill",props:{characterName:null,modelValue:null},emits:["update:modelValue"],setup(e,{emit:t}){const a=e,{t:l,ta:o}=(0,Te.QT)(),r=(0,n.computed)((()=>{const e=ze.O[a.characterName];let t=[];return e.skillMap1.length>0&&t.push([o(e.skillName1),e.skillMap1]),e.skillMap2.length>0&&t.push([o(e.skillName2),e.skillMap2]),e.skillMap3.length>0&&t.push([o(e.skillName3),e.skillMap3]),t}));return(e,i)=>{const c=Ve.BT,d=Ve.LC,s=Ve.km;return(0,n.openBlock)(),(0,n.createBlock)(s,{"model-value":a.modelValue,"onUpdate:modelValue":i[0]||(i[0]=e=>t("update:modelValue",e)),key:a.characterName},{prefix:(0,n.withCtx)((()=>[(0,n.createElementVNode)("span",null,(0,n.toDisplayString)((0,n.unref)(l)("misc.skill")),1)])),default:(0,n.withCtx)((()=>[((0,n.openBlock)(!0),(0,n.createElementBlock)(n.Fragment,null,(0,n.renderList)((0,n.unref)(r),((e,t)=>((0,n.openBlock)(),(0,n.createBlock)(d,{key:e[0],label:e[0]},{default:(0,n.withCtx)((()=>[((0,n.openBlock)(!0),(0,n.createElementBlock)(n.Fragment,null,(0,n.renderList)(e[1],(e=>((0,n.openBlock)(),(0,n.createBlock)(c,{key:e.index.toString(),label:(0,n.unref)(o)(e.text),value:e.index},null,8,["label","value"])))),128))])),_:2},1032,["label"])))),128))])),_:1},8,["model-value"])}}});const Ke=Pe;var Ue=Ke,Ie=a(34009),Ze=a(82749),$e=a(94080),Oe=a(37336);a(48504),a(20837);function He(e,t,a,l,o,r){const i=Oe.$Y,c=Oe.eI;return(0,n.openBlock)(),(0,n.createElementBlock)("div",null,[(0,n.createVNode)(c,{data:r.tableData},{default:(0,n.withCtx)((()=>[(0,n.createVNode)(i,{prop:"name",label:l.t("misc.type1")},null,8,["label"]),(0,n.createVNode)(i,{prop:"expectation",label:l.t("dmg.expect")},null,8,["label"]),(0,n.createVNode)(i,{prop:"critical",label:l.t("dmg.crit")},null,8,["label"]),(0,n.createVNode)(i,{prop:"nonCritical",label:l.t("dmg.nonCrit")},null,8,["label"])])),_:1},8,["data"])])}var je={name:"DamageList",props:{analysisFromWasm:{}},computed:{element(){return this.analysisFromWasm.element},normalDamageTitle(){return this.analysisFromWasm.is_heal?this.t("dmg.heal"):this.t("dmg",this.element)},tableData(){let e=[];const t="无数据",a=e=>Math.round(e),n=(n,l)=>{var o,r,i,c,d,s;e.push({expectation:null!==(o=a(null===(r=this.analysisFromWasm[n])||void 0===r?void 0:r.expectation))&&void 0!==o?o:t,critical:null!==(i=a(null===(c=this.analysisFromWasm[n])||void 0===c?void 0:c.critical))&&void 0!==i?i:t,nonCritical:null!==(d=a(null===(s=this.analysisFromWasm[n])||void 0===s?void 0:s.non_critical))&&void 0!==d?d:t,name:l})};return n("normal",this.normalDamageTitle),this.analysisFromWasm.melt&&n("melt",this.t("dmg.melt")),this.analysisFromWasm.vaporize&&n("vaporize",this.t("dmg.vaporize")),this.analysisFromWasm.spread&&n("spread",this.t("dmg.spread")),this.analysisFromWasm.aggravate&&n("aggravate",this.t("dmg.aggravate")),e}},setup(){const{t:e}=(0,Te.QT)();return{t:e}}};const qe=(0,Ae.Z)(je,[["render",He],["__scopeId","data-v-065aa26b"]]);var We=qe,Qe=a(70600),Ye=a(20703),Ge=a(22507),Xe=a(73995),Je=(a(87571),a(97367),a(10158));const et={class:"title"},tt={class:"title"};var at=(0,n.defineComponent)({__name:"SaveAsKumi",props:{defaultName:{default:""},modelValue:{type:Boolean}},emits:["confirm","update:modelValue"],setup(e,{emit:t}){const a=e,{t:l}=(0,Te.QT)(),o=(0,Je.F)(),r=(0,n.ref)([0]),i=(0,n.ref)(a.defaultName);function c(){const e=r.value;t("confirm",{dirIds:e,name:i.value})}return(0,n.watch)((()=>a.defaultName),(e=>{i.value=e})),(e,d)=>{const u=b.Xb,h=b.z5,p=s.EZ,f=m.mi,g=ce.d0;return(0,n.openBlock)(),(0,n.createBlock)(g,{"model-value":a.modelValue,"onUpdate:modelValue":d[3]||(d[3]=e=>t("update:modelValue",e)),title:(0,n.unref)(l)("calcPage.saveKumi"),width:(0,n.unref)(pe.B)?"60%":"90%"},{footer:(0,n.withCtx)((()=>[(0,n.createVNode)(f,{onClick:d[2]||(d[2]=t=>e.$emit("update:modelValue",!1))},{default:(0,n.withCtx)((()=>[(0,n.createTextVNode)((0,n.toDisplayString)((0,n.unref)(l)("misc.cancel")),1)])),_:1}),(0,n.createVNode)(f,{type:"primary",disabled:""===i.value,onClick:c},{default:(0,n.withCtx)((()=>[(0,n.createTextVNode)((0,n.toDisplayString)((0,n.unref)(l)("misc.confirm")),1)])),_:1},8,["disabled"])])),default:(0,n.withCtx)((()=>[(0,n.createElementVNode)("p",et,(0,n.toDisplayString)((0,n.unref)(l)("calcPage.selectDir")),1),(0,n.createVNode)(h,{modelValue:r.value,"onUpdate:modelValue":d[0]||(d[0]=e=>r.value=e),min:1},{default:(0,n.withCtx)((()=>[((0,n.openBlock)(!0),(0,n.createElementBlock)(n.Fragment,null,(0,n.renderList)((0,n.unref)(o).dirs.value,(e=>((0,n.openBlock)(),(0,n.createBlock)(u,{key:e.id,label:e.id,border:"",class:"dir-item"},{default:(0,n.withCtx)((()=>[(0,n.createTextVNode)((0,n.toDisplayString)(e.title),1)])),_:2},1032,["label"])))),128))])),_:1},8,["modelValue"]),(0,n.createElementVNode)("p",tt,(0,n.toDisplayString)((0,n.unref)(l)("calcPage.name")),1),(0,n.createVNode)(p,{modelValue:i.value,"onUpdate:modelValue":d[1]||(d[1]=e=>i.value=e),placeholder:(0,n.unref)(l)("calcPage.enterName")},null,8,["modelValue","placeholder"])])),_:1},8,["model-value","title","width"])}}});const nt=at;var lt=nt;const ot={key:0,style:{color:"#c250ff"}},rt={key:1,style:{color:"#ff335a"}},it={key:2};function ct(e,t,a,l,o,r){const i=Oe.$Y,c=Oe.eI;return(0,n.openBlock)(),(0,n.createBlock)(c,{data:e.tableDataForElementUI},{default:(0,n.withCtx)((()=>[(0,n.createVNode)(i,{label:e.t("misc.type1")},{default:(0,n.withCtx)((({row:t})=>[(0,n.createTextVNode)((0,n.toDisplayString)(e.t("dmg",t.key)),1)])),_:1},8,["label"]),(0,n.createVNode)(i,{label:e.t("misc.dmg")},{default:(0,n.withCtx)((({row:e})=>[e&&e.key&&e.value?((0,n.openBlock)(),(0,n.createElementBlock)(n.Fragment,{key:0},["electroCharged"===e.key?((0,n.openBlock)(),(0,n.createElementBlock)("span",ot,(0,n.toDisplayString)(e.value.toFixed(1)),1)):"overload"===e.key?((0,n.openBlock)(),(0,n.createElementBlock)("span",rt,(0,n.toDisplayString)(e.value.toFixed(1)),1)):((0,n.openBlock)(),(0,n.createElementBlock)("span",it,(0,n.toDisplayString)(e.value.toFixed(1)),1))],64)):(0,n.createCommentVNode)("",!0)])),_:1},8,["label"])])),_:1},8,["data"])}var dt=(0,n.defineComponent)({name:"TransformativeDamage",props:["data"],computed:{tableDataForElementUI(){let e=[];return e.push({value:this.data.hyperbloom,key:"hyperbloom"}),e.push({value:this.data.burgeon,key:"burgeon"}),e.push({value:this.data.bloom,key:"bloom"}),e.push({value:this.data.electro_charged,key:"electroCharged"}),e.push({value:this.data.overload,key:"overload"}),e.push({value:this.data.shatter,key:"shattered"}),e.push({value:this.data.superconduct,key:"superConduct"}),e.push({value:this.data.burning,key:"burning"}),e.push({value:this.data.swirl_electro,key:"swirlElectro"}),e.push({value:this.data.swirl_pyro,key:"swirlPyro"}),e.push({value:this.data.swirl_cryo,key:"swirlCryo"}),e.push({value:this.data.swirl_hydro,key:"swirlHydro"}),e.push({value:this.data.crystallize,key:"crystallize"}),e}},methods:{f(e){return console.log(e),e.value.toFixed(1)}},setup(){const{t:e}=(0,Te.QT)();return{t:e}}});const st=(0,Ae.Z)(dt,[["render",ct]]);var ut=st;const mt={class:"root"},ht={class:"display"},pt={key:0};function ft(e,t,a,l,o,r){return(0,n.openBlock)(),(0,n.createElementBlock)("div",mt,[(0,n.createElementVNode)("div",{class:"back",style:(0,n.normalizeStyle)(r.styleForBack)},null,4),(0,n.createElementVNode)("span",ht,[(0,n.createTextVNode)((0,n.toDisplayString)((100*a.value).toFixed(1))+" ",1),a.extra?((0,n.openBlock)(),(0,n.createElementBlock)("span",pt,"/ "+(0,n.toDisplayString)(a.extra),1)):(0,n.createCommentVNode)("",!0)])])}var gt={name:"ValueDisplay",props:{value:{},extra:{default:""}},computed:{styleForBack(){return{width:100*this.value+"%"}}}};const vt=(0,Ae.Z)(gt,[["render",ft],["__scopeId","data-v-6353f308"]]);var kt=vt;const yt={class:"item"},Nt={class:"title"},Vt={class:"title"};function Ct(e,t,a,l,o,r){const i=p.d6,c=J.BM;return(0,n.openBlock)(),(0,n.createElementBlock)(n.Fragment,null,[(0,n.createElementVNode)("div",yt,[(0,n.createElementVNode)("span",Nt,(0,n.toDisplayString)(l.t("misc.lvl")),1),(0,n.createVNode)(i,{"model-value":a.modelValue.level,"onUpdate:modelValue":t[0]||(t[0]=e=>r.handleInput("level",e)),min:60,max:100},null,8,["model-value"])]),((0,n.openBlock)(!0),(0,n.createElementBlock)(n.Fragment,null,(0,n.renderList)(o.elements8,(e=>((0,n.openBlock)(),(0,n.createElementBlock)("div",{key:e,class:"item"},[(0,n.createElementVNode)("span",Vt,(0,n.toDisplayString)(l.t("res",e)),1),(0,n.createVNode)(c,{"model-value":a.modelValue[o.resNameMap[e]],"onUpdate:modelValue":t=>r.handleInput(e,t),class:"input",min:-1,max:1,step:.1,"show-input":!0},null,8,["model-value","onUpdate:modelValue","step"])])))),128))],64)}const xt=Object.freeze(["Pyro","Electro","Hydro","Anemo","Geo","Cryo","Dendro","Physical"]),Et={Electro:"electro_res",Pyro:"pyro_res",Hydro:"hydro_res",Cryo:"cryo_res",Geo:"geo_res",Anemo:"anemo_res",Dendro:"dendro_res",Physical:"physical_res"};Object.freeze(Et);var St={name:"EnemyConfig",props:["modelValue"],emits:["update:modelValue"],data(){return{elements8:xt,resNameMap:Et}},methods:{handleInput(e,t){if("level"===e){let e=Object.assign({},this.modelValue);e["level"]=t,this.$emit("update:modelValue",e)}else{const a=this.resNameMap[e];if(this.modelValue[a]!==t){let a=Object.assign({},this.modelValue);a[this.resNameMap[e]]=t,this.$emit("update:modelValue",a)}}}},setup(){const{t:e}=(0,Te.QT)();return{t:e}}};const bt=(0,Ae.Z)(St,[["render",Ct],["__scopeId","data-v-8b2981d2"]]);var Bt=bt,wt=a(2805),Dt=a(96684);const _t={class:"config-items mona-scroll"},Mt={class:"top"},Tt=["src"],Rt={class:"artifact-title"},At={key:0,style:{"font-size":"12px"}},Ft={class:"effect-title"},Lt={class:"effect-body"},zt={key:1,style:{"font-size":"12px"}},Pt={class:"effect-title"},Kt={class:"effect-body"};function Ut(e,t,a,l,o,r){const i=Dt.Z,c=s.EZ,d=Ye.Z;return(0,n.openBlock)(),(0,n.createElementBlock)("div",null,[(0,n.createVNode)(c,{modelValue:o.searchString,"onUpdate:modelValue":t[0]||(t[0]=e=>o.searchString=e),style:{"margin-bottom":"16px"},placeholder:l.t("misc.search"),clearable:""},{append:(0,n.withCtx)((()=>[(0,n.createVNode)(i)])),_:1},8,["modelValue","placeholder"]),(0,n.createElementVNode)("div",_t,[((0,n.openBlock)(!0),(0,n.createElementBlock)(n.Fragment,null,(0,n.renderList)(r.dataSearched,(e=>((0,n.openBlock)(),(0,n.createElementBlock)("div",{key:e.name,class:"item"},[(0,n.createElementVNode)("div",Mt,[(0,n.createElementVNode)("img",{src:e.thumbnail,class:"image"},null,8,Tt),(0,n.createElementVNode)("div",null,[(0,n.createElementVNode)("h3",Rt,(0,n.toDisplayString)(e.title),1),(0,n.createElementVNode)("div",null,[r.hasConfig2(e)?((0,n.openBlock)(),(0,n.createElementBlock)("p",At,[(0,n.createElementVNode)("span",Ft,(0,n.toDisplayString)(l.t("misc.art2")),1),(0,n.createElementVNode)("span",Lt,(0,n.toDisplayString)(e.effect2),1)])):(0,n.createCommentVNode)("",!0),r.hasConfig4(e)?((0,n.openBlock)(),(0,n.createElementBlock)("p",zt,[(0,n.createElementVNode)("span",Pt,(0,n.toDisplayString)(l.t("misc.art4")),1),(0,n.createElementVNode)("span",Kt,(0,n.toDisplayString)(e.effect4),1)])):(0,n.createCommentVNode)("",!0)])])]),r.hasConfig2(e)?((0,n.openBlock)(),(0,n.createBlock)(d,{key:0,"model-value":a.modelValue[e.snake],configs:e.config2,"need-item-name":!1,"onUpdate:modelValue":t=>r.handleChangeValue(e.snake,t),style:{"margin-bottom":"8px"}},null,8,["model-value","configs","onUpdate:modelValue"])):(0,n.createCommentVNode)("",!0),r.hasConfig4(e)?((0,n.openBlock)(),(0,n.createBlock)(d,{key:1,"model-value":a.modelValue[e.snake],configs:e.config4,"need-item-name":!1,"onUpdate:modelValue":t=>r.handleChangeValue(e.snake,t)},null,8,["model-value","configs","onUpdate:modelValue"])):(0,n.createCommentVNode)("",!0)])))),128))])])}a(74916);var It=a(74221),Zt=a(30504),$t={name:"ArtifactConfig",components:{ItemConfig:Ye.Z},props:["modelValue"],emits:["update:modelValue"],data(){return{searchString:""}},computed:{data(){let e=[];for(let n in Zt.oN){var t,a;const l=Zt.oN[n],o=null!==(t=l.config4)&&void 0!==t?t:[],r=null!==(a=l.config2)&&void 0!==a?a:[],i=l.name2;(o.length>0||r.length>0)&&e.push({name:i,title:this.ta(l.nameLocale),eng:l.eng,snake:"config_"+(0,ue.D1)(i),config4:o,config2:r,effect4:this.ta(l.effect4),effect2:this.ta(l.effect2),thumbnail:(0,se.dd)(n)})}return e},dataSearched(){if(""===this.searchString)return this.data;{const e=new It.Z(this.data,{keys:["title","effect4","effect2"]}),t=e.search(this.searchString);return t.map((e=>e.item))}}},methods:{handleChangeValue(e,t){let a=(0,ue.p$)(this.modelValue);a[e]=t,this.$emit("update:modelValue",a)},hasConfig2(e){return e.config2&&e.config2.length>0},hasConfig4(e){return e.config4&&e.config4.length>0}},setup(){const{t:e,ta:t}=(0,Te.QT)();return{t:e,ta:t}}};const Ot=(0,Ae.Z)($t,[["render",Ut],["__scopeId","data-v-08e311be"]]);var Ht=Ot;const jt={style:{"min-width":"100px"}},qt=["title"],Wt={class:"item-top"},Qt={class:"item-bottom"},Yt=["onUpdate:modelValue"];function Gt(e,t,a,l,o,r){const i=b.Xb;return(0,n.openBlock)(),(0,n.createElementBlock)("div",jt,[(0,n.createElementVNode)("div",{class:"header",title:r.result},(0,n.toDisplayString)(a.title),9,qt),(0,n.createElementVNode)("div",null,[((0,n.openBlock)(!0),(0,n.createElementBlock)(n.Fragment,null,(0,n.renderList)(a.arr,(e=>((0,n.openBlock)(),(0,n.createElementBlock)("div",{key:e.name,class:"item"},[(0,n.createElementVNode)("div",Wt,[(0,n.createVNode)(i,{modelValue:e.checked,"onUpdate:modelValue":t=>e.checked=t},{default:(0,n.withCtx)((()=>[(0,n.createTextVNode)((0,n.toDisplayString)(e.name),1)])),_:2},1032,["modelValue","onUpdate:modelValue"])]),(0,n.createElementVNode)("div",Qt,[(0,n.withDirectives)((0,n.createElementVNode)("input",{type:"text","onUpdate:modelValue":t=>e.value=t,class:"input"},null,8,Yt),[[n.vModelText,e.value,void 0,{number:!0}]])])])))),128))])])}var Xt={name:"DamageAnalysisUtil",props:{arr:{},title:{default:"title"}},computed:{result(){let e=0;for(let t of this.arr)t.checked&&(e+=parseFloat(t.value));return Math.round(1e3*e)/1e3}}};const Jt=(0,Ae.Z)(Xt,[["render",Gt],["__scopeId","data-v-6e535a12"]]);var ea=Jt;a(64922);const ta=e=>((0,n.pushScopeId)("data-v-47f0a12a"),e=e(),(0,n.popScopeId)(),e),aa={style:{"margin-bottom":"16px"},class:"flex-row"},na={key:0,class:"damage-display"},la={key:1,class:"damage-display"},oa={key:2,class:"damage-display"},ra={key:3,class:"damage-display"},ia={key:4,class:"damage-display"},ca={class:"header-row",style:{overflow:"auto","margin-bottom":"16px"}},da=["title"],sa=["title"],ua=["title"],ma={class:"header-row"},ha={key:9,style:{"min-width":"100px"}},pa=ta((()=>(0,n.createElementVNode)("div",{class:"big-title",style:{background:"rgb(236, 245, 255)"}},"蔓激化基础伤害",-1))),fa={class:"header-row",style:{height:"100%",display:"flex","align-items":"center","justify-content":"center"}},ga={key:10,style:{"min-width":"100px"}},va=ta((()=>(0,n.createElementVNode)("div",{class:"big-title",style:{background:"rgb(236, 245, 255)"}},"超激化基础伤害",-1))),ka={class:"header-row",style:{height:"100%",display:"flex","align-items":"center","justify-content":"center"}},ya=["title"],Na={class:"header-row"},Va=ta((()=>(0,n.createElementVNode)("div",{class:"big-title bonus-region"},"加成",-1))),Ca={class:"header-row"},xa={key:0},Ea=ta((()=>(0,n.createElementVNode)("div",{class:"big-title reaction-ratio-region"},"反应倍率",-1))),Sa={class:"header-row",style:{height:"100%",display:"flex","align-items":"center","justify-content":"center"}},ba={key:1},Ba=ta((()=>(0,n.createElementVNode)("div",{class:"big-title melt-region"},"增幅伤害加成",-1))),wa={class:"header-row"},Da={key:2},_a=ta((()=>(0,n.createElementVNode)("div",{class:"big-title vaporize-region"},"增幅伤害加成",-1))),Ma={class:"header-row"},Ta={key:0,class:"header-row",style:{overflow:"auto"}},Ra=ta((()=>(0,n.createElementVNode)("div",{class:"big-title def-minus"},"防御乘区",-1))),Aa={class:"header-row"},Fa=ta((()=>(0,n.createElementVNode)("div",{class:"big-title res-minus"},"抗性乘区",-1))),La={class:"header-row"};function za(e,t,a,l,o,r){const i=ee.dn,c=ee.KD,d=ea;return(0,n.openBlock)(),(0,n.createElementBlock)(n.Fragment,null,[(0,n.createElementVNode)("div",aa,[(0,n.createVNode)(c,{modelValue:o.damageType,"onUpdate:modelValue":t[0]||(t[0]=e=>o.damageType=e),style:{"margin-right":"24px"}},{default:(0,n.withCtx)((()=>[(0,n.createVNode)(i,{label:"normal"},{default:(0,n.withCtx)((()=>[(0,n.createTextVNode)((0,n.toDisplayString)(r.normalDamageName),1)])),_:1}),r.showMeltOption?((0,n.openBlock)(),(0,n.createBlock)(i,{key:0,label:"melt"},{default:(0,n.withCtx)((()=>[(0,n.createTextVNode)("融化")])),_:1})):(0,n.createCommentVNode)("",!0),r.showVaporizeOption?((0,n.openBlock)(),(0,n.createBlock)(i,{key:1,label:"vaporize"},{default:(0,n.withCtx)((()=>[(0,n.createTextVNode)("蒸发")])),_:1})):(0,n.createCommentVNode)("",!0),r.showSpreadOption?((0,n.openBlock)(),(0,n.createBlock)(i,{key:2,label:"spread"},{default:(0,n.withCtx)((()=>[(0,n.createTextVNode)("蔓激化")])),_:1})):(0,n.createCommentVNode)("",!0),r.showAggravateOption?((0,n.openBlock)(),(0,n.createBlock)(i,{key:3,label:"aggravate"},{default:(0,n.withCtx)((()=>[(0,n.createTextVNode)("超激化")])),_:1})):(0,n.createCommentVNode)("",!0)])),_:1},8,["modelValue"]),"normal"===o.damageType?((0,n.openBlock)(),(0,n.createElementBlock)("span",na,(0,n.toDisplayString)(Math.round(r.damageNormal)),1)):(0,n.createCommentVNode)("",!0),"melt"===o.damageType?((0,n.openBlock)(),(0,n.createElementBlock)("span",la,(0,n.toDisplayString)(Math.round(r.damageMelt)),1)):(0,n.createCommentVNode)("",!0),"vaporize"===o.damageType?((0,n.openBlock)(),(0,n.createElementBlock)("span",oa,(0,n.toDisplayString)(Math.round(r.damageVaporize)),1)):(0,n.createCommentVNode)("",!0),"spread"===o.damageType?((0,n.openBlock)(),(0,n.createElementBlock)("span",ra,(0,n.toDisplayString)(Math.round(r.damageSpread)),1)):(0,n.createCommentVNode)("",!0),"aggravate"===o.damageType?((0,n.openBlock)(),(0,n.createElementBlock)("span",ia,(0,n.toDisplayString)(Math.round(r.damageAggravate)),1)):(0,n.createCommentVNode)("",!0)]),(0,n.createElementVNode)("div",ca,[(0,n.createElementVNode)("div",null,["spread"===o.damageType?((0,n.openBlock)(),(0,n.createElementBlock)("div",{key:0,class:"big-title base-damage-region",title:Math.round(1e3*r.baseDamageSpread)/1e3},(0,n.toDisplayString)(r.baseRegionName),9,da)):"aggravate"===o.damageType?((0,n.openBlock)(),(0,n.createElementBlock)("div",{key:1,class:"big-title base-damage-region",title:Math.round(1e3*r.baseDamageAggravate)/1e3},(0,n.toDisplayString)(r.baseRegionName),9,sa)):((0,n.openBlock)(),(0,n.createElementBlock)("div",{key:2,class:"big-title base-damage-region",title:Math.round(1e3*r.baseDamage)/1e3},(0,n.toDisplayString)(r.baseRegionName),9,ua)),(0,n.createElementVNode)("div",ma,[o.atkRatioState.length>0?((0,n.openBlock)(),(0,n.createBlock)(d,{key:0,arr:o.atkState,title:"攻击力"},null,8,["arr"])):(0,n.createCommentVNode)("",!0),o.atkRatioState.length>0?((0,n.openBlock)(),(0,n.createBlock)(d,{key:1,arr:o.atkRatioState,title:"攻击力倍率"},null,8,["arr"])):(0,n.createCommentVNode)("",!0),o.defRatioState.length>0?((0,n.openBlock)(),(0,n.createBlock)(d,{key:2,arr:o.defState,title:"防御力"},null,8,["arr"])):(0,n.createCommentVNode)("",!0),o.defRatioState.length>0?((0,n.openBlock)(),(0,n.createBlock)(d,{key:3,arr:o.defRatioState,title:"防御力倍率"},null,8,["arr"])):(0,n.createCommentVNode)("",!0),o.hpRatioState.length>0?((0,n.openBlock)(),(0,n.createBlock)(d,{key:4,arr:o.hpState,title:"生命值"},null,8,["arr"])):(0,n.createCommentVNode)("",!0),o.hpRatioState.length>0?((0,n.openBlock)(),(0,n.createBlock)(d,{key:5,arr:o.hpRatioState,title:"生命值倍率"},null,8,["arr"])):(0,n.createCommentVNode)("",!0),o.emRatioState.length>0?((0,n.openBlock)(),(0,n.createBlock)(d,{key:6,arr:o.emState,title:"元素精通"},null,8,["arr"])):(0,n.createCommentVNode)("",!0),o.emRatioState.length>0?((0,n.openBlock)(),(0,n.createBlock)(d,{key:7,arr:o.emRatioState,title:"元素精通倍率"},null,8,["arr"])):(0,n.createCommentVNode)("",!0),o.extraDamageState.length>0?((0,n.openBlock)(),(0,n.createBlock)(d,{key:8,arr:o.extraDamageState,title:"其他"},null,8,["arr"])):(0,n.createCommentVNode)("",!0),"spread"===o.damageType?((0,n.openBlock)(),(0,n.createElementBlock)("div",ha,[pa,(0,n.createElementVNode)("div",fa,[(0,n.createElementVNode)("span",null,(0,n.toDisplayString)(Math.round(1e3*r.baseDamageQuicken)/1e3),1)])])):(0,n.createCommentVNode)("",!0),"aggravate"===o.damageType?((0,n.openBlock)(),(0,n.createElementBlock)("div",ga,[va,(0,n.createElementVNode)("div",ka,[(0,n.createElementVNode)("span",null,(0,n.toDisplayString)(Math.round(1e3*r.baseDamageQuicken)/1e3),1)])])):(0,n.createCommentVNode)("",!0),"spread"===o.damageType?((0,n.openBlock)(),(0,n.createBlock)(d,{key:11,arr:o.spreadState,title:"蔓激化伤害提升"},null,8,["arr"])):(0,n.createCommentVNode)("",!0),"aggravate"===o.damageType?((0,n.openBlock)(),(0,n.createBlock)(d,{key:12,arr:o.aggravateState,title:"超激化伤害提升"},null,8,["arr"])):(0,n.createCommentVNode)("",!0)])]),(0,n.withDirectives)((0,n.createElementVNode)("div",null,[(0,n.createElementVNode)("div",{class:"big-title critical-region",title:Math.round(this.critical*this.criticalDamage*1e3)/1e3},"暴击",8,ya),(0,n.createElementVNode)("div",Na,[(0,n.createVNode)(d,{arr:o.criticalState,title:"暴击率"},null,8,["arr"]),(0,n.createVNode)(d,{arr:o.criticalDamageState,title:"暴击伤害"},null,8,["arr"])])],512),[[n.vShow,o.isDamage]]),(0,n.createElementVNode)("div",null,[Va,(0,n.createElementVNode)("div",Ca,[(0,n.createVNode)(d,{arr:r.bonusRegionState,title:r.bonusRegionName},null,8,["arr","title"])])]),"melt"===o.damageType||"vaporize"===o.damageType?((0,n.openBlock)(),(0,n.createElementBlock)("div",xa,[Ea,(0,n.createElementVNode)("div",Sa,[(0,n.createElementVNode)("span",null,(0,n.toDisplayString)(r.reactionRatio),1)])])):(0,n.createCommentVNode)("",!0),"melt"===o.damageType?((0,n.openBlock)(),(0,n.createElementBlock)("div",ba,[Ba,(0,n.createElementVNode)("div",wa,[(0,n.createVNode)(d,{arr:o.meltEnhanceState,title:"融化伤害加成"},null,8,["arr"])])])):(0,n.createCommentVNode)("",!0),"vaporize"===o.damageType?((0,n.openBlock)(),(0,n.createElementBlock)("div",Da,[_a,(0,n.createElementVNode)("div",Ma,[(0,n.createVNode)(d,{arr:o.vaporizeEnhanceState,title:"蒸发伤害加成"},null,8,["arr"])])])):(0,n.createCommentVNode)("",!0)]),o.isDamage?((0,n.openBlock)(),(0,n.createElementBlock)("div",Ta,[(0,n.createElementVNode)("div",null,[Ra,(0,n.createElementVNode)("div",Aa,[(0,n.createVNode)(d,{arr:o.defMinusState,title:"减防"},null,8,["arr"]),(0,n.createVNode)(d,{arr:o.defPenetrationState,title:"穿防"},null,8,["arr"])])]),(0,n.createElementVNode)("div",null,[Fa,(0,n.createElementVNode)("div",La,[(0,n.createVNode)(d,{arr:o.resMinusState,title:"减抗"},null,8,["arr"])])])])):(0,n.createCommentVNode)("",!0)],64)}const Pa=[17.165605545043945,18.53504753112793,19.90485382080078,21.27490234375,22.64539909362793,24.649612426757812,26.640642166137695,28.868587493896484,31.367679595947266,34.14334487915039,37.20100021362305,40.65999984741211,44.4466667175293,48.56351852416992,53.74848175048828,59.0818977355957,64.4200439453125,69.72445678710938,75.12313842773438,80.58477783203125,86.11203002929688,91.70374298095703,97.24462890625,102.8126449584961,108.40956115722656,113.20169067382812,118.1029052734375,122.97931671142578,129.72732543945312,136.29290771484375,142.6708526611328,149.02902221679688,155.4169921875,161.82550048828125,169.10630798339844,176.51808166503906,184.07273864746094,191.7095184326172,199.55691528320312,207.38204956054688,215.39889526367188,224.16566467285156,233.50216674804688,243.35057067871094,256.0630798339844,268.5434875488281,281.52606201171875,295.0136413574219,309.06719970703125,323.6015930175781,336.7575378417969,350.5303039550781,364.4826965332031,378.6191711425781,398.60040283203125,416.39825439453125,434.3869934082031,452.9510498046875,472.6062316894531,492.8848876953125,513.5685424804688,539.1032104492188,565.5105590820312,592.5387573242188,624.4434204101562,651.4701538085938,679.496826171875,707.7940673828125,736.6714477539062,765.6402587890625,794.7733764648438,824.6773681640625,851.1577758789062,877.7420654296875,914.2291259765625,946.7467651367188,979.411376953125,1011.2230224609375,1044.791748046875,1077.4437255859375,1109.99755859375,1142.9765625,1176.3695068359375,1210.1844482421875,1253.835693359375,1288.9527587890625,1325.484130859375,1363.4569091796875,1405.097412109375,1446.853515625];function Ka(e){let t=0;for(let a of e)a.checked&&(t+=parseFloat(a.value));return t}var Ua={name:"DamageAnalysis",components:{DamageAnalysisUtil:ea},props:["enemyConfig","characterLevel"],data(){return{damageType:"normal",element:"Pyro",isHeal:!1,isShield:!1,isDamage:!0,atkState:[{name:"test",value:1e3,checked:!0}],atkRatioState:[{name:"test",value:1e3,checked:!0}],defState:[],defRatioState:[],hpState:[],hpRatioState:[],emState:[],emRatioState:[],extraDamageState:[],spreadState:[],aggravateState:[],criticalState:[],criticalDamageState:[],meltEnhanceState:[],vaporizeEnhanceState:[],defMinusState:[],defPenetrationState:[],resMinusState:[],bonusState:[],healingBonusState:[]}},methods:{setValue(e){console.log(e);let t={atkState:"atk",atkRatioState:"atk_ratio",defState:"def",defRatioState:"def_ratio",hpState:"hp",hpRatioState:"hp_ratio",emState:"em",emRatioState:"em_ratio",extraDamageState:"extra_damage",criticalState:"critical",criticalDamageState:"critical_damage",meltEnhanceState:"melt_enhance",vaporizeEnhanceState:"vaporize_enhance",bonusState:"bonus",defMinusState:"def_minus",defPenetrationState:"def_penetration",resMinusState:"res_minus",healingBonusState:"healing_bonus",aggravateState:"aggravate_compose",spreadState:"spread_compose"};this.element=e.element,this.isHeal=e.is_heal,this.isShield=e.is_shield,this.isDamage=!this.isHeal&&!this.isShield,this.damageType="normal";for(let a in t){let n=t[a],l=[];for(let t in e[n])l.push({name:t,checked:!0,value:Math.round(1e3*e[n][t])/1e3});this[a]=l}}},computed:{normalDamageName(){const e={Pyro:"火元素伤害",Electro:"雷元素伤害",Hydro:"水元素伤害",Anemo:"风元素伤害",Geo:"岩元素伤害",Dendro:"草元素伤害",Cryo:"冰元素伤害",Physical:"物理伤害"};return this.isHeal?"治疗量":this.isShield?"护盾量":e[this.element]},showMeltOption(){return("Cryo"===this.element||"Pyro"===this.element)&&this.isDamage},showVaporizeOption(){return("Pyro"===this.element||"Hydro"===this.element)&&this.isDamage},showSpreadOption(){return"Dendro"===this.element},showAggravateOption(){return"Electro"===this.element},baseRegionName(){return this.isHeal?"基础治疗":"基础伤害"},bonusRegionState(){return this.isHeal?this.healingBonusState:this.bonusState},bonusRegionName(){return this.isHeal?"治疗加成":"伤害加成"},reactionRatio(){let e={Cryomelt:1.5,Pyromelt:2,Pyrovaporize:1.5,Hydrovaporize:2};return e[this.element+this.damageType]},atk(){return Ka(this.atkState)},atkRatio(){return Ka(this.atkRatioState)},def(){return Ka(this.defState)},defRatio(){return Ka(this.defRatioState)},hp(){return Ka(this.hpState)},hpRatio(){return Ka(this.hpRatioState)},em(){return Ka(this.emState)},emRatio(){return Ka(this.emRatioState)},extraDamage(){return Ka(this.extraDamageState)},bonus(){return Ka(this.bonusState)},healingBonus(){return Ka(this.healingBonusState)},critical(){return Math.min(Ka(this.criticalState),1)},criticalDamage(){return Ka(this.criticalDamageState)},meltEnhance(){return Ka(this.meltEnhanceState)},vaporizeEnhance(){return Ka(this.vaporizeEnhanceState)},defMinus(){return Ka(this.defMinusState)},defPenetration(){return Ka(this.defPenetrationState)},resMinus(){return Ka(this.resMinusState)},baseDamage(){return this.atk*this.atkRatio+this.def*this.defRatio+this.hp*this.hpRatio+this.em*this.emRatio+this.extraDamage},spreadEnhance(){return Ka(this.spreadState)},aggravateEnhance(){return console.log(this.aggravateState),Ka(this.aggravateState)},baseDamageSpread(){return this.baseDamage+1.25*Pa[this.characterLevel-1]*(1+this.spreadEnhance)},baseDamageAggravate(){return this.baseDamage+1.15*Pa[this.characterLevel-1]*(1+this.aggravateEnhance)},baseDamageQuicken(){return Pa[this.characterLevel-1]*("spread"===this.damageType?1.25:1.15)},resRatio(){const e=this.enemyConfig[this.element.toLowerCase()+"_res"],t=e-this.resMinus;let a;return a=t>.75?1/(1+4*t):t>0?1-t:1-t/2,a},defMultiplier(){const e=this.enemyConfig.level,t=this.characterLevel,a=100+t;return a/((1-this.defPenetration)*(1-this.defMinus)*(100+e)+a)},damageSpread(){return this.baseDamageSpread*(1+this.critical*this.criticalDamage)*(1+this.bonus)*this.resRatio*this.defMultiplier},damageAggravate(){return this.baseDamageAggravate*(1+this.critical*this.criticalDamage)*(1+this.bonus)*this.resRatio*this.defMultiplier},damageNormal(){let e;return e=this.isHeal?this.baseDamage*(1+this.healingBonus):this.baseDamage*(1+this.critical*this.criticalDamage)*(1+this.bonus)*this.resRatio*this.defMultiplier,e},damageMelt(){const e=this.damageNormal*this.reactionRatio*(1+this.meltEnhance);return e},damageVaporize(){const e=this.damageNormal*this.reactionRatio*(1+this.vaporizeEnhance);return e}}};const Ia=(0,Ae.Z)(Ua,[["render",za],["__scopeId","data-v-47f0a12a"]]);var Za=Ia,$a=a(49744);function Oa(){const e=(0,n.ref)({level:90,electro_res:.1,pyro_res:.1,hydro_res:.1,cryo_res:.1,geo_res:.1,anemo_res:.1,dendro_res:.1,physical_res:.1}),t=(0,n.computed)((()=>e.value));return{enemyConfig:e,enemyInterface:t}}var Ha=a(76001);a(41817);function ja(e){const t=(0,n.ref)("AmberDefault"),a=(0,n.ref)("NoConfig"),l=(0,n.ref)(!1),o=(0,n.ref)(""),{t:r,ta:i}=(0,Te.QT)(),c=(0,n.computed)((()=>Me.F[t.value].badge)),d=(0,n.computed)((()=>i(Me.F[t.value].description))),s=(0,n.computed)((()=>{const e=Me.F[t.value].config;return e&&e.length>0})),u=(0,n.computed)((()=>Me.F[t.value].config)),m=(0,n.computed)((()=>{const e=l.value;return{name:t.value,params:a.value,use_dsl:e,dsl_source:e?o.value:""}}));return(0,n.watch)((()=>e.value),(e=>{const a=Me.F[t.value];if("common"!==a["for"]){const a=Me.e[e];a&&a.length>0?t.value=a[0].name:t.value=Me.e.common[0].name}else{const a=Me.e[e];a&&a.length>0&&(t.value=a[0].name)}}),{flush:"sync"}),(0,n.watch)((()=>t.value),(e=>{t.value=e;const n=Me.F[e].config.length>0;if(n){let t={};for(let a of Me.F[e].config)t[a.name]=a.default;a.value={[e]:t}}else a.value="NoConfig"}),{flush:"sync"}),{targetFunctionName:t,targetFunctionConfig:a,targetFunctionUseDSL:l,targetFunctionDSLSource:o,targetFunctionBadge:c,targetFunctionDescription:d,targetFunctionNeedConfig:s,targetFunctionConfigConfig:u,targetFunctionInterface:m}}const qa={preserveAspectRatio:"xMidYMid meet",viewBox:"0 0 1024 1024",width:"1.2em",height:"1.2em"},Wa=(0,n.createElementVNode)("path",{fill:"currentColor",d:"M384 192v640l384-320.064z"},null,-1),Qa=[Wa];function Ya(e,t){return(0,n.openBlock)(),(0,n.createElementBlock)("svg",qa,Qa)}var Ga={name:"ep-caret-right",render:Ya};const Xa={preserveAspectRatio:"xMidYMid meet",viewBox:"0 0 1024 1024",width:"1.2em",height:"1.2em"},Ja=(0,n.createElementVNode)("path",{fill:"currentColor",d:"M764.416 254.72a351.68 351.68 0 0 1 86.336 149.184H960v192.064H850.752a351.68 351.68 0 0 1-86.336 149.312l54.72 94.72l-166.272 96l-54.592-94.72a352.64 352.64 0 0 1-172.48 0L371.136 936l-166.272-96l54.72-94.72a351.68 351.68 0 0 1-86.336-149.312H64v-192h109.248a351.68 351.68 0 0 1 86.336-149.312L204.8 160l166.208-96h.192l54.656 94.592a352.64 352.64 0 0 1 172.48 0L652.8 64h.128L819.2 160l-54.72 94.72zM704 499.968a192 192 0 1 0-384 0a192 192 0 0 0 384 0z"},null,-1),en=[Ja];function tn(e,t){return(0,n.openBlock)(),(0,n.createElementBlock)("svg",Xa,en)}var an={name:"ep-tools",render:tn},nn=a(68986),ln=a(52416),on=a(87831);const rn={preserveAspectRatio:"xMidYMid meet",viewBox:"0 0 1024 1024",width:"1.2em",height:"1.2em"},cn=(0,n.createElementVNode)("path",{fill:"currentColor",d:"M283.84 867.84L512 747.776l228.16 119.936a6.4 6.4 0 0 0 9.28-6.72l-43.52-254.08l184.512-179.904a6.4 6.4 0 0 0-3.52-10.88l-255.104-37.12L517.76 147.904a6.4 6.4 0 0 0-11.52 0L392.192 379.072l-255.104 37.12a6.4 6.4 0 0 0-3.52 10.88L318.08 606.976l-43.584 254.08a6.4 6.4 0 0 0 9.28 6.72z"},null,-1),dn=[cn];function sn(e,t){return(0,n.openBlock)(),(0,n.createElementBlock)("svg",rn,dn)}var un={name:"ep-star-filled",render:sn},mn=a(40285),hn=a(20618),pn=a(43193);function fn(){const e=(0,n.ref)("AStar"),t=(0,n.ref)([]),a=(0,n.ref)([]),l=(0,n.ref)([]),o=(0,n.ref)([]),r=(0,n.ref)(1),i=(0,n.ref)(0),c=(0,n.ref)(0),d=(0,n.ref)(0),s=(0,n.computed)((()=>{const e=t.value.map((e=>(0,de.aA)(e))),a=e.length;return 2===a?{Set22:e}:1===a?{Set4:e[0]}:"Any"})),u=(0,n.computed)((()=>{let e={set_mode:s.value,hp_min:null,atk_min:null,def_min:null,recharge_min:r.value,em_min:i.value,crit_min:c.value,crit_dmg_min:d.value};return e}));return{algorithm:e,constraintArtifactSet:t,constraintSandMainStats:a,constraintGobletMainStats:l,constraintHeadMainStats:o,constraintMinRecharge:r,constraintMinElementalMastery:i,constraintMinCritical:c,constraintMinCriticalDamage:d,constraintSetMode:s,constraintInterface:u}}var gn=a(88392),vn=a(64055),kn=a(87749),yn=a(17266),Nn=a(17998),Vn=a(75202),Cn=a(49811),xn=a(78141),En=a(49574),Sn=a(48243),bn=a(33227),Bn=a(79509),wn=(a(3905),a(88311));const Dn=e=>((0,n.pushScopeId)("data-v-e6f47b84"),e=e(),(0,n.popScopeId)(),e),_n={style:{overflow:"hidden"}},Mn={class:"common-title2"},Tn=["innerHTML"],Rn={class:"common-title2"},An={style:{"margin-top":"12px","margin-bottom":"12px"}},Fn={class:"common-title2"},Ln={style:{"margin-top":"12px","margin-bottom":"12px"}},zn={class:"constraint-main-stat-item"},Pn={class:"constraint-main-stat-item"},Kn={class:"constraint-main-stat-item"},Un={class:"constraint-title"},In={class:"constraint-min-item"},Zn={class:"constraint-min-title"},$n={class:"slider-div"},On={class:"constraint-min-item"},Hn={class:"constraint-min-title"},jn={class:"slider-div"},qn={class:"constraint-min-item"},Wn={class:"constraint-min-title"},Qn={class:"slider-div"},Yn={class:"constraint-min-item"},Gn={class:"constraint-min-title"},Xn={class:"slider-div"},Jn={class:"common-title2"},el={style:{"max-height":"50vh",overflow:"auto"},class:"mona-scroll"},tl={style:{height:"60vh"},class:"mona-scroll"},al={class:"common-title2"},nl={class:"common-title2"},ll={class:"config-character"},ol=["src"],rl={class:"select-character"},il={class:"common-title"},cl={style:{display:"flex",gap:"12px"}},dl={class:"config-character-skill"},sl={class:"common-title2"},ul={class:"skill-div"},ml={class:"config-character-constellation"},hl={class:"common-title2"},pl={key:0,class:"character-extra-config"},fl={class:"config-weapon"},gl={class:"select-weapon"},vl={class:"common-title"},kl={style:{display:"flex",gap:"12px","margin-bottom":"8px"}},yl={class:"config-weapon-refine"},Nl={class:"common-title2"},Vl={key:0,class:"weapon-extra-config"},Cl={class:"config-target-function"},xl={class:"common-title"},El={class:"my-button-list",style:{"margin-bottom":"12px"}},Sl={class:"my-button-list",style:{"margin-bottom":"12px"}},bl={key:0,class:"target-function-config",style:{"margin-top":"12px"}},Bl={class:"target-function-detail"},wl={class:"detail-left"},Dl=["src"],_l={class:"detail-right"},Ml=["innerHTML"],Tl={key:0,style:{"margin-top":"12px"}},Rl={class:"config-buff"},Al=Dn((()=>(0,n.createElementVNode)("p",{class:"common-title"},"BUFF",-1))),Fl={class:"buff-tool",style:{"margin-bottom":"12px"}},Ll={key:0,class:"buffs"},zl={key:1},Pl={class:"common-title"},Kl={class:"artifact-tool",style:{"margin-bottom":"12px"}},Ul={class:"artifacts"},Il={key:0,style:{"margin-top":"16px"}},Zl={class:"common-description"},$l={class:"effect2"},Ol=["innerHTML"],Hl={key:1,style:{"margin-top":"16px"}},jl={class:"common-description"},ql={class:"effect4"},Wl=["innerHTML"],Ql={class:"common-title"},Yl={class:"my-button-list",style:{"margin-bottom":"12px"}},Gl={class:"common-title2"},Xl={key:2,style:{"margin-bottom":"16px"}},Jl={class:"common-title2"},eo={class:"damage-analysis-div"},to={class:"common-title2"},ao={class:"common-title2",style:{"margin-top":"24px"}},no={class:"common-title"},lo={class:"my-button-list",style:{"margin-bottom":"12px"}};var oo=(0,n.defineComponent)({__name:"NewArtifactPlanPage",async setup(e){let t,f;const g=(0,vn.B)(),v=(0,kn.n)(),k=(0,Je.F)(),y=(0,bn.c7)(),N=([t,f]=(0,n.withAsyncContext)((()=>(0,Cn.n)())),t=await t,f(),t),V=(0,Sn.useRoute)(),{t:C,ta:x}=(0,Te.QT)();function E(){const e=V.params.presetName;e&&"string"===typeof e&&Wt(e)}(0,n.onActivated)(E),(0,n.onMounted)(E);const{enemyConfig:S,enemyInterface:b}=Oa(),B=(0,n.ref)(!1);function w(){B.value=!0}const{characterName:D,characterLevel:_,characterConfig:M,characterSkill1:T,characterSkill2:R,characterSkill3:A,characterConstellation:F,characterWeaponType:L,characterLevelNumber:z,characterAscend:P,characterSplash:K,characterNeedConfig:U,characterConfigConfig:I,characterInterface:Z,characterLocale:$}=(0,$a.A)(),{characterSkillConfig:O,characterSkillIndex:H,characterNeedSkillConfig:j,characterSkillConfigConfig:q,characterSkillInterface:W}=(0,$a.s)(D),Q=(0,n.ref)("None"),{weaponName:Y,weaponLevel:G,weaponRefine:ne,weaponConfig:le,weaponLevelNumber:oe,weaponAscend:re,weaponSplash:Ve,weaponNeedConfig:Ce,weaponConfigConfig:xe,weaponInterface:Ee,weaponLocale:Se}=(0,Ha.t)(L),{targetFunctionName:be,targetFunctionConfig:Be,targetFunctionUseDSL:we,targetFunctionDSLSource:De,targetFunctionBadge:_e,targetFunctionDescription:Me,targetFunctionNeedConfig:Re,targetFunctionConfigConfig:Ae,targetFunctionInterface:Fe}=ja(D),ze=(0,n.ref)("normal");(0,n.watch)((()=>ze.value),(e=>{we.value="dsl"===e}));const{artifactIds:Pe,artifactCount:Ke,artifactSingleConfig:Oe,artifactWasmFormat:He,artifactItems:je,artifactSetCount:qe,artifactNeedConfig4:et,artifactNeedConfig2:tt,artifactConfigItemName:at,artifactEffect4Text:nt,artifactEffect2Text:ot,artifactConfig4Configs:rt,artifactConfig2Configs:it,artifactConfigForCalculator:ct,setArtifact:dt,removeArtifact:st}=(0,Nn.a)(),mt=(0,n.ref)(!1),ht=(0,n.ref)("flower");function pt(e){const t=Vn.m7[e];mt.value=!0,ht.value=t}function ft(e){const t=(0,se.VO)(ht.value);dt(t,e),mt.value=!1}function gt(){for(const e of Pe.value)v.lockArtifact(e)}function vt(){for(const e of Pe.value)v.unlockArtifact(e)}const yt=(0,n.computed)((()=>{for(const e of Pe.value){let t=v.getArtifact(e);if(t&&!t.omit)return!1}return!0})),Nt=(0,n.ref)(!1),{algorithm:Vt,constraintArtifactSet:Ct,constraintSandMainStats:xt,constraintGobletMainStats:Et,constraintHeadMainStats:St,constraintMinRecharge:bt,constraintMinElementalMastery:Dt,constraintMinCritical:_t,constraintMinCriticalDamage:Mt,constraintSetMode:Tt,constraintInterface:Rt}=fn(),At=(0,n.ref)(null);function Ft(){Nt.value=!0}const Lt=(0,n.ref)(!1),zt=(0,n.ref)("auto"),Pt=(0,n.ref)((0,se.s)());function Kt(){Lt.value=!0}const Ut=(0,n.ref)(null),It=(0,n.computed)((()=>{const e=$.value,t=Se.value;return`${e}-${t}`}));function $t(e){if("save-preset"===e)jt();else if(e.startsWith("apply-")){const t=e.slice(6);Wt(t)}}function Ot(e){if(e){const t=qt();t.name=e,g.addOrOverwrite(e,t),Bn.z8.success({message:"已保存"})}else jt()}function jt(){const e=qt();l.T.prompt("输入名称（重复名称将覆盖）","存为预设",{confirmButtonText:"确定",cancelButtonText:"取消",inputPattern:/[^\s]+$/,inputValue:It.value}).then((({value:t})=>{e.name=t,g.addOrOverwrite(t,e),Ut.value=t,Bn.z8.success({message:"保存成功"})}))}function qt(){let e=[];for(let a of Qt.value)e.push({name:a.name,config:(0,ue.p$)(a.config),lock:a.lock});const t={buffs:e,character:(0,ue.p$)(Z.value),weapon:(0,ue.p$)(Ee.value),targetFunction:(0,ue.p$)(Fe.value),constraint:{setNames:(0,ue.p$)(Ct.value),minRecharge:bt.value,minCritical:_t.value,minCriticalDamage:Mt.value,minElementalMastery:Dt.value},filter:{sandMainStats:(0,ue.p$)(xt.value),gobletMainStats:(0,ue.p$)(Et.value),headMainStats:(0,ue.p$)(St.value)},artifactConfig:(0,ue.p$)(Pt.value),algorithm:Vt.value,artifactEffectMode:zt.value,useDSL:"dsl"===ze.value,dslSource:De.value,name:""};return t}function Wt(e){var t,a,n;const l=g.presets.value[e];if(!l||!l.item)return;const o=(0,ue.p$)(l.item),r=new yn.C;if(o.buffs){const e=[];for(let t of o.buffs){const a={id:r.generateId(),name:t.name,config:t.config,lock:t.lock};e.push(a)}Qt.value=e}const i=o.character;var c;i&&(D.value=i.name,_.value=i.level.toString()+(i.ascend?"+":"-"),F.value=null!==(c=i.constellation)&&void 0!==c?c:0,T.value=i.skill1+1,R.value=i.skill2+1,A.value=i.skill3+1,M.value=i.params);const d=o.weapon;d&&(Y.value=d.name,G.value=d.level.toString()+(d.ascend?"+":"-"),ne.value=d.refine,le.value=d.params);const s=o.targetFunction;s&&(be.value=s.name,Be.value=s.params);const u=!!o.useDSL;var m;u?(ze.value="dsl",De.value=null!==(m=o.dslSource)&&void 0!==m?m:""):ze.value="normal";const h=o.constraint;var p,f,v,k,y;h&&(Ct.value=null!==(p=h.setNames)&&void 0!==p?p:[],Mt.value=null!==(f=h.minCriticalDamage)&&void 0!==f?f:0,_t.value=null!==(v=h.minCritical)&&void 0!==v?v:0,Dt.value=null!==(k=h.minElementalMastery)&&void 0!==k?k:0,bt.value=null!==(y=h.minRecharge)&&void 0!==y?y:1);const N=o.filter;var V,C,x;N&&(xt.value=null!==(V=N.sandMainStats)&&void 0!==V?V:[],Et.value=null!==(C=N.gobletMainStats)&&void 0!==C?C:[],St.value=null!==(x=N.headMainStats)&&void 0!==x?x:[]);Vt.value=null!==(t=o.algorithm)&&void 0!==t?t:"AStar","Heuristic"===Vt.value&&(Vt.value="AStar"),zt.value=null!==(a=o.artifactEffectMode)&&void 0!==a?a:"auto",Pt.value=null!==(n=o.artifactConfig)&&void 0!==n?n:(0,se.s)(),Ut.value=e}const{buffs:Qt,buffsInterface:Yt,addBuff:Gt,deleteBuff:Xt,toggleBuff:Jt}=(0,gn.q)(),ea=(0,n.ref)(!1);function ta(){ea.value=!0}function aa(e){Xt(e)}function na(e){Jt(e)}function la(e){ea.value=!1,Gt(e)}const oa=(0,n.ref)(!1),ra=(0,n.ref)(null),ia=(0,n.computed)((()=>({character:Z.value,weapon:Ee.value,buffs:Yt.value,artifacts:He.value,artifact_config:ct.value,skill:W.value,enemy:b.value}))),ca=(0,n.computed)((()=>{let e=null;"None"!==Q.value&&(e=Q.value);const t=N.CalculatorInterface.get_damage_analysis(ia.value,e);return t})),da=(0,n.computed)((()=>{const e=N.CalculatorInterface.get_transformative_damage(ia.value);return e}));function sa(){oa.value=!0,(0,n.nextTick)((()=>{if(ra.value){const e=ra.value;e.setValue(ca.value)}}))}const ua=(0,n.computed)((()=>({character:Z.value,weapon:Ee.value,buffs:Yt.value,artifacts:He.value,artifact_config:ct.value}))),ma=(0,n.computed)((()=>{const e=N.CommonInterface.get_attribute(ua.value);return e})),ha=(0,n.ref)({}),pa=(0,n.ref)(!1),fa=(0,n.computed)((()=>({character:Z.value,weapon:Ee.value,artifacts:He.value,tf:Fe.value,buffs:Yt.value,artifacts_config:ct.value})));function ga(){ha.value=N.BonusPerStat.bonus_per_stat(fa.value),pa.value=!0}const va=(0,n.defineAsyncComponent)({loader:()=>a.e(621).then(a.bind(a,3621))}),ka=(0,n.ref)(!1),ya=(0,n.ref)(!1),Na=(0,n.computed)((()=>{let e=$.value;for(const t in qe.value)qe.value[t]>=2&&(e+="-"+x(Zt.oN[t].nameLocale));return e})),Va=(0,n.computed)((()=>{const e=[];for(const a of k.dirs.value){var t;const n=null!==(t=a.children)&&void 0!==t?t:[];if(n.length>0){const t=[];for(let e of n){const a=k.kumiById.value.get(e);a&&t.push({label:a.title,id:a.id})}const l={label:a.title,children:t,id:a.id};e.push(l)}}return e}));function Ca(){ka.value=!0}function xa({dirIds:e,name:t}){ka.value=!1;for(const a of e){let e=k.createKumi(a,t);if(e)for(const t of Pe.value)t>=0&&k.addArtifact(e,t)}}function Ea(){ya.value=!0}function Sa(e){const t=k.kumiById.value.get(e.id);if(t&&!t.dir&&t.artifactIds){ya.value=!1;for(let e=0;e<5;e++){const a=t.artifactIds[e];Pe.value[e]=null!==a?a:-1}}}const ba=(0,n.ref)(!1),Ba=(0,n.defineAsyncComponent)({loader:()=>a.e(529).then(a.bind(a,79529)),loadingComponent:xn.Z,errorComponent:En.Z});function wa(){ba.value=!0}const Da=(0,n.ref)([]),_a=(0,n.ref)(0);function Ma(e){const t=Da.value[e-1],a=e=>null!==e?e:-1;let n=[];n.push(a(t.flower)),n.push(a(t.feather)),n.push(a(t.sand)),n.push(a(t.goblet)),n.push(a(t.head)),Pe.value=n,_a.value=e}function Ta(){let e=null;"custom"===zt.value&&(e=Pt.value);const t={character:Z.value,weapon:Ee.value,target_function:Fe.value,constraint:Rt.value,buffs:Yt.value,artifact_config:e,algorithm:Vt.value};return(0,ue.p$)(t)}function Ra(){const e=At.value;let t=new Set;if(e){const a=e.getCheckedNodes(!0);for(let e of a){const a=e.id,n=k.kumiById.value.get(a);if(n&&n.artifactIds)for(const e of n.artifactIds)t.add(e)}}for(let n of v.artifacts.value.values()){const e=n.position,a=n.mainTag.name,l=n.id;if("sand"===e){if(xt.value.length>0){const e=xt.value.indexOf(a);-1===e&&t.add(l)}}else if("cup"===e){if(Et.value.length>0){const e=Et.value.indexOf(a);-1===e&&t.add(l)}}else if("head"===e&&St.value.length>0){const e=St.value.indexOf(a);-1===e&&t.add(l)}}let a=[];for(let n of v.artifacts.value.values())n.omit||t.has(n.id)||a.push(n);return a.filter((e=>!e.omit))}function Aa(){return Ra().map((e=>(0,de.Lz)(e)))}function Fa(){const e=Aa(),t=e.filter((e=>e.level>=16));return t}function La(){const e=new Date,t=Ta(),a=Fa();if(0===a.length)return void Bn.z8.error({message:"没有圣遗物，请先添加圣遗物"});const n=o.kN.service({lock:!0,fullscreen:!0,text:"莫娜占卜中"});(0,me.Y)(t,a).then((t=>{const a=new Date;if(console.log(`time: ${(a-e)/1e3}s`),0!==t.length){if(Da.value=t,Ma(1),v.artifacts20Count.value>=100){let e=[],a=t[0];e.push(a.flower),e.push(a.feather),e.push(a.sand),e.push(a.goblet),e.push(a.head),e=e.filter((e=>null!==e&&void 0!==e)).map((e=>v.artifacts.value.get(e))).filter((e=>!!e)).map((e=>(0,de.Lz)(e))),(0,he.Cm)(Z.value,Ee.value,Yt.value,Fe.value,e)}}else Bn.z8.error({message:"没有符合条件的圣遗物"})})).catch((e=>{var t;Bn.z8.error({message:null!==(t=e.message)&&void 0!==t?t:e})})).finally((()=>{n.close()}))}return(0,n.watch)((()=>y.currentAccountId.value),(()=>{Da.value=[],_a.value=0,Ut.value=null,Pe.value=[-1,-1,-1,-1,-1]})),(e,t)=>{const a=ce.d0,l=ie,o=ae.Q0,f=te.v,k=ee.rh,y=ee.KD,N=J.BM,V=X,x=p.d6,E=h.os,b=m.mi,P=m.MO,Z=u.Df,$=u.o2,W=u.YK,oe=d.p8,re=s.EZ,de=d.Ub,se=c.GT,ue=i.Dv,me=r.dq;return(0,n.openBlock)(),(0,n.createElementBlock)("div",_n,[(0,n.createVNode)(a,{title:(0,n.unref)(C)("calcPage.selectArt"),width:(0,n.unref)(pe.B)?"80%":"90%",modelValue:mt.value,"onUpdate:modelValue":t[0]||(t[0]=e=>mt.value=e)},{default:(0,n.withCtx)((()=>[(0,n.createVNode)(fe.Z,{position:ht.value,onSelect:ft},null,8,["position"])])),_:1},8,["title","width","modelValue"]),(0,n.createVNode)(a,{modelValue:oa.value,"onUpdate:modelValue":t[1]||(t[1]=e=>oa.value=e),title:(0,n.unref)(C)("calcPage.dmgComp"),width:(0,n.unref)(pe.B)?"60%":"90%"},{default:(0,n.withCtx)((()=>[(0,n.createVNode)((0,n.unref)(Za),{ref_key:"damageAnalysisComponent",ref:ra,"enemy-config":(0,n.unref)(S),"character-level":(0,n.unref)(z)},null,8,["enemy-config","character-level"])])),_:1},8,["modelValue","title","width"]),(0,n.createVNode)(a,{modelValue:ea.value,"onUpdate:modelValue":t[2]||(t[2]=e=>ea.value=e),title:(0,n.unref)(C)("calcPage.selectBuff"),width:(0,n.unref)(pe.B)?"60%":"90%"},{default:(0,n.withCtx)((()=>[(0,n.createVNode)(Ie.Z,{onSelect:la})])),_:1},8,["modelValue","title","width"]),(0,n.createVNode)(a,{modelValue:Nt.value,"onUpdate:modelValue":t[12]||(t[12]=e=>Nt.value=e),title:(0,n.unref)(C)("calcPage.setupCalc"),width:(0,n.unref)(pe.B)?"400px":"90%"},{default:(0,n.withCtx)((()=>[(0,n.createElementVNode)("p",Mn,[(0,n.createTextVNode)((0,n.toDisplayString)((0,n.unref)(C)("misc.algo"))+" ",1),(0,n.createVNode)(o,null,{content:(0,n.withCtx)((()=>[(0,n.createElementVNode)("span",{innerHTML:(0,n.unref)(C)("calcPage.algoDesc")},null,8,Tn)])),default:(0,n.withCtx)((()=>[(0,n.createVNode)(l)])),_:1})]),"Naive"===(0,n.unref)(Vt)?((0,n.openBlock)(),(0,n.createBlock)(f,{key:0,title:(0,n.unref)(C)("calcPage.plzSetConst"),type:"warning",style:{"margin-bottom":"12px"}},null,8,["title"])):(0,n.createCommentVNode)("",!0),(0,n.createVNode)(y,{modelValue:(0,n.unref)(Vt),"onUpdate:modelValue":t[3]||(t[3]=e=>(0,n.isRef)(Vt)?Vt.value=e:null)},{default:(0,n.withCtx)((()=>[(0,n.createVNode)(k,{label:"AStar"},{default:(0,n.withCtx)((()=>[(0,n.createTextVNode)((0,n.toDisplayString)((0,n.unref)(C)("calcPage.aStar")),1)])),_:1}),(0,n.createVNode)(k,{label:"Naive"},{default:(0,n.withCtx)((()=>[(0,n.createTextVNode)((0,n.toDisplayString)((0,n.unref)(C)("calcPage.naive")),1)])),_:1})])),_:1},8,["modelValue"]),(0,n.createElementVNode)("p",Rn,(0,n.toDisplayString)((0,n.unref)(C)("calcPage.constSet")),1),(0,n.createElementVNode)("div",An,[(0,n.createVNode)((0,n.unref)(ge.Z),{multiple:"",modelValue:(0,n.unref)(Ct),"onUpdate:modelValue":t[4]||(t[4]=e=>(0,n.isRef)(Ct)?Ct.value=e:null),style:{width:"100%"},placeholder:(0,n.unref)(C)("calcPage.constSet")},null,8,["modelValue","placeholder"])]),(0,n.createElementVNode)("p",Fn,(0,n.toDisplayString)((0,n.unref)(C)("calcPage.constMain")),1),(0,n.createElementVNode)("div",Ln,[(0,n.createElementVNode)("div",zn,[(0,n.createElementVNode)("span",null,(0,n.toDisplayString)((0,n.unref)(C)("misc.sand")),1),(0,n.createVNode)((0,n.unref)(wt.Z),{modelValue:(0,n.unref)(xt),"onUpdate:modelValue":t[5]||(t[5]=e=>(0,n.isRef)(xt)?xt.value=e:null),"include-any":!1,multiple:!0,position:"sand",style:(0,n.normalizeStyle)({width:"calc(100% - 48px)"}),placeholder:(0,n.unref)(C)("calcPage.constMain")},null,8,["modelValue","style","placeholder"])]),(0,n.createElementVNode)("div",Pn,[(0,n.createElementVNode)("span",null,(0,n.toDisplayString)((0,n.unref)(C)("misc.cup")),1),(0,n.createVNode)((0,n.unref)(wt.Z),{modelValue:(0,n.unref)(Et),"onUpdate:modelValue":t[6]||(t[6]=e=>(0,n.isRef)(Et)?Et.value=e:null),"include-any":!1,multiple:!0,position:"cup",style:(0,n.normalizeStyle)({width:"calc(100% - 48px)"}),placeholder:(0,n.unref)(C)("calcPage.constMain")},null,8,["modelValue","style","placeholder"])]),(0,n.createElementVNode)("div",Kn,[(0,n.createElementVNode)("span",null,(0,n.toDisplayString)((0,n.unref)(C)("misc.head")),1),(0,n.createVNode)((0,n.unref)(wt.Z),{modelValue:(0,n.unref)(St),"onUpdate:modelValue":t[7]||(t[7]=e=>(0,n.isRef)(St)?St.value=e:null),"include-any":!1,multiple:!0,position:"head",style:(0,n.normalizeStyle)({width:"calc(100% - 48px)"}),placeholder:(0,n.unref)(C)("calcPage.constMain")},null,8,["modelValue","style","placeholder"])])]),(0,n.createElementVNode)("p",Un,(0,n.toDisplayString)((0,n.unref)(C)("calcPage.constMin")),1),(0,n.createElementVNode)("div",null,[(0,n.createElementVNode)("div",In,[(0,n.createElementVNode)("span",Zn,(0,n.toDisplayString)((0,n.unref)(C)("stat.recharge")),1),(0,n.createElementVNode)("div",$n,[(0,n.createVNode)(N,{min:1,max:4,step:.05,modelValue:(0,n.unref)(bt),"onUpdate:modelValue":t[8]||(t[8]=e=>(0,n.isRef)(bt)?bt.value=e:null),"show-input":(0,n.unref)(pe.B)},null,8,["step","modelValue","show-input"])])]),(0,n.createElementVNode)("div",On,[(0,n.createElementVNode)("span",Hn,(0,n.toDisplayString)((0,n.unref)(C)("stat.elementalMastery")),1),(0,n.createElementVNode)("div",jn,[(0,n.createVNode)(N,{min:0,max:2e3,step:10,modelValue:(0,n.unref)(Dt),"onUpdate:modelValue":t[9]||(t[9]=e=>(0,n.isRef)(Dt)?Dt.value=e:null),"show-input":(0,n.unref)(pe.B)},null,8,["modelValue","show-input"])])]),(0,n.createElementVNode)("div",qn,[(0,n.createElementVNode)("span",Wn,(0,n.toDisplayString)((0,n.unref)(C)("stat.critical")),1),(0,n.createElementVNode)("div",Qn,[(0,n.createVNode)(N,{min:0,max:1,step:.01,modelValue:(0,n.unref)(_t),"onUpdate:modelValue":t[10]||(t[10]=e=>(0,n.isRef)(_t)?_t.value=e:null),"show-input":(0,n.unref)(pe.B)},null,8,["step","modelValue","show-input"])])]),(0,n.createElementVNode)("div",Yn,[(0,n.createElementVNode)("span",Gn,(0,n.toDisplayString)((0,n.unref)(C)("stat.criticalDamage")),1),(0,n.createElementVNode)("div",Xn,[(0,n.createVNode)(N,{min:0,max:4,step:.1,modelValue:(0,n.unref)(Mt),"onUpdate:modelValue":t[11]||(t[11]=e=>(0,n.isRef)(Mt)?Mt.value=e:null),"show-input":(0,n.unref)(pe.B)},null,8,["step","modelValue","show-input"])])])]),(0,n.createElementVNode)("p",Jn,(0,n.toDisplayString)((0,n.unref)(C)("calcPage.filKumi")),1),(0,n.createElementVNode)("div",el,[(0,n.createVNode)(V,{data:(0,n.unref)(Va),"show-checkbox":"",ref_key:"filterKumiRef",ref:At},null,8,["data"])])])),_:1},8,["modelValue","title","width"]),(0,n.createVNode)(a,{modelValue:ba.value,"onUpdate:modelValue":t[13]||(t[13]=e=>ba.value=e),title:(0,n.unref)(C)("calcPage.artAnalysis"),width:(0,n.unref)(pe.B)?"60%":"90%"},{default:(0,n.withCtx)((()=>[(0,n.createVNode)((0,n.unref)(Ba),{"artifact-ids":(0,n.unref)(Pe)},null,8,["artifact-ids"])])),_:1},8,["modelValue","title","width"]),(0,n.createVNode)(a,{modelValue:pa.value,"onUpdate:modelValue":t[14]||(t[14]=e=>pa.value=e),title:(0,n.unref)(C)("calcPage.statCurve"),width:(0,n.unref)(pe.B)?"80%":"90%"},{default:(0,n.withCtx)((()=>[(0,n.createVNode)((0,n.unref)(va),{data:ha.value},null,8,["data"])])),_:1},8,["modelValue","title","width"]),(0,n.createVNode)(lt,{modelValue:ka.value,"onUpdate:modelValue":t[15]||(t[15]=e=>ka.value=e),"default-name":(0,n.unref)(Na),onConfirm:xa},null,8,["modelValue","default-name"]),(0,n.createVNode)(a,{modelValue:ya.value,"onUpdate:modelValue":t[16]||(t[16]=e=>ya.value=e),title:(0,n.unref)(C)("calcPage.selectKumi"),width:(0,n.unref)(pe.B)?"60%":"90%"},{default:(0,n.withCtx)((()=>[(0,n.createElementVNode)("div",tl,[(0,n.createVNode)(V,{data:(0,n.unref)(Va),onNodeClick:Sa},null,8,["data"])])])),_:1},8,["modelValue","title","width"]),(0,n.createVNode)(a,{modelValue:B.value,"onUpdate:modelValue":t[18]||(t[18]=e=>B.value=e),title:(0,n.unref)(C)("calcPage.setupEnemy"),width:(0,n.unref)(pe.B)?"60%":"90%"},{default:(0,n.withCtx)((()=>[(0,n.createVNode)((0,n.unref)(Bt),{modelValue:(0,n.unref)(S),"onUpdate:modelValue":t[17]||(t[17]=e=>(0,n.isRef)(S)?S.value=e:null)},null,8,["modelValue"])])),_:1},8,["modelValue","title","width"]),(0,n.createVNode)(a,{modelValue:Lt.value,"onUpdate:modelValue":t[21]||(t[21]=e=>Lt.value=e),title:(0,n.unref)(C)("calcPage.setupArt"),width:(0,n.unref)(pe.B)?"60%":"90%"},{default:(0,n.withCtx)((()=>[(0,n.createElementVNode)("h3",al,(0,n.toDisplayString)((0,n.unref)(C)("calcPage.artMode")),1),(0,n.createVNode)(y,{modelValue:zt.value,"onUpdate:modelValue":t[19]||(t[19]=e=>zt.value=e)},{default:(0,n.withCtx)((()=>[(0,n.createVNode)(k,{label:"auto"},{default:(0,n.withCtx)((()=>[(0,n.createTextVNode)((0,n.toDisplayString)((0,n.unref)(C)("calcPage.modeAuto")),1)])),_:1}),(0,n.createVNode)(k,{label:"custom"},{default:(0,n.withCtx)((()=>[(0,n.createTextVNode)((0,n.toDisplayString)((0,n.unref)(C)("calcPage.modeCustom")),1)])),_:1})])),_:1},8,["modelValue"]),(0,n.createElementVNode)("h3",nl,(0,n.toDisplayString)((0,n.unref)(C)("calcPage.artEffect")),1),(0,n.createVNode)(Ht,{modelValue:Pt.value,"onUpdate:modelValue":t[20]||(t[20]=e=>Pt.value=e)},null,8,["modelValue"])])),_:1},8,["modelValue","title","width"]),(0,n.createVNode)(me,{class:"big-container"},{default:(0,n.withCtx)((()=>[(0,n.createVNode)(ue,{class:"left-container mona-scroll-hidden",sm:24,md:6},{default:(0,n.withCtx)((()=>[(0,n.createElementVNode)("div",ll,[(0,n.createElementVNode)("img",{src:(0,n.unref)(K),alt:"角色",class:"character-splash"},null,8,ol),(0,n.createElementVNode)("div",rl,[(0,n.createElementVNode)("p",il,(0,n.toDisplayString)((0,n.unref)(C)("misc.character")),1),(0,n.createElementVNode)("div",cl,[(0,n.createVNode)(ve.Z,{modelValue:(0,n.unref)(D),"onUpdate:modelValue":t[22]||(t[22]=e=>(0,n.isRef)(D)?D.value=e:null),style:{flex:"1"}},null,8,["modelValue"]),(0,n.createVNode)(ke.Z,{modelValue:(0,n.unref)(_),"onUpdate:modelValue":t[23]||(t[23]=e=>(0,n.isRef)(_)?_.value=e:null),style:{flex:"1"}},null,8,["modelValue"])]),(0,n.createElementVNode)("div",dl,[(0,n.createElementVNode)("h3",sl,(0,n.toDisplayString)((0,n.unref)(C)("misc.skill")),1),(0,n.createElementVNode)("div",ul,[(0,n.createVNode)(x,{"controls-position":"right",modelValue:(0,n.unref)(T),"onUpdate:modelValue":t[24]||(t[24]=e=>(0,n.isRef)(T)?T.value=e:null),min:1,max:15,style:{flex:"1",display:"block",width:"unset"}},null,8,["modelValue"]),(0,n.createVNode)(x,{"controls-position":"right",modelValue:(0,n.unref)(R),"onUpdate:modelValue":t[25]||(t[25]=e=>(0,n.isRef)(R)?R.value=e:null),min:1,max:15,style:{flex:"1",display:"block",width:"unset"}},null,8,["modelValue"]),(0,n.createVNode)(x,{"controls-position":"right",modelValue:(0,n.unref)(A),"onUpdate:modelValue":t[26]||(t[26]=e=>(0,n.isRef)(A)?A.value=e:null),min:1,max:15,style:{flex:"1",display:"block",width:"unset"}},null,8,["modelValue"])])]),(0,n.createElementVNode)("div",ml,[(0,n.createElementVNode)("h3",hl,(0,n.toDisplayString)((0,n.unref)(C)("misc.conste")),1),(0,n.createVNode)(x,{"controls-position":"right",modelValue:(0,n.unref)(F),"onUpdate:modelValue":t[27]||(t[27]=e=>(0,n.isRef)(F)?F.value=e:null),min:0,max:6},null,8,["modelValue"])]),(0,n.unref)(U)?((0,n.openBlock)(),(0,n.createElementBlock)("div",pl,[(0,n.createVNode)((0,n.unref)(Ye.Z),{modelValue:(0,n.unref)(M),"onUpdate:modelValue":t[28]||(t[28]=e=>(0,n.isRef)(M)?M.value=e:null),"item-name":(0,n.unref)(D),configs:(0,n.unref)(I)},null,8,["modelValue","item-name","configs"])])):(0,n.createCommentVNode)("",!0)])]),(0,n.createVNode)(E),(0,n.createElementVNode)("div",fl,[(0,n.createElementVNode)("div",gl,[(0,n.createElementVNode)("p",vl,(0,n.toDisplayString)((0,n.unref)(C)("misc.weapon")),1),(0,n.createElementVNode)("div",kl,[(0,n.createVNode)(ye.Z,{type:(0,n.unref)(L),modelValue:(0,n.unref)(Y),"onUpdate:modelValue":t[29]||(t[29]=e=>(0,n.isRef)(Y)?Y.value=e:null),style:{flex:"1"}},null,8,["type","modelValue"]),(0,n.createVNode)(Ne.Z,{modelValue:(0,n.unref)(G),"onUpdate:modelValue":t[30]||(t[30]=e=>(0,n.isRef)(G)?G.value=e:null),style:{flex:"1"}},null,8,["modelValue"])]),(0,n.createVNode)(Xe.Z,{"weapon-name":(0,n.unref)(Y)},null,8,["weapon-name"]),(0,n.createElementVNode)("div",yl,[(0,n.createElementVNode)("h3",Nl,(0,n.toDisplayString)((0,n.unref)(C)("misc.refine")),1),(0,n.createVNode)(x,{"controls-position":"right",modelValue:(0,n.unref)(ne),"onUpdate:modelValue":t[31]||(t[31]=e=>(0,n.isRef)(ne)?ne.value=e:null),min:1,max:5},null,8,["modelValue"])]),(0,n.unref)(Ce)?((0,n.openBlock)(),(0,n.createElementBlock)("div",Vl,[(0,n.createVNode)((0,n.unref)(Ye.Z),{modelValue:(0,n.unref)(le),"onUpdate:modelValue":t[32]||(t[32]=e=>(0,n.isRef)(le)?le.value=e:null),"item-name":(0,n.unref)(Y),configs:(0,n.unref)(xe)},null,8,["modelValue","item-name","configs"])])):(0,n.createCommentVNode)("",!0)])]),(0,n.createVNode)(E),(0,n.createElementVNode)("div",Cl,[(0,n.createElementVNode)("p",xl,(0,n.toDisplayString)((0,n.unref)(C)("misc.tf")),1),(0,n.createElementVNode)("div",El,[(0,n.createVNode)(P,null,{default:(0,n.withCtx)((()=>[(0,n.createVNode)(b,{type:"primary",icon:(0,n.unref)(Ga),onClick:La},{default:(0,n.withCtx)((()=>[(0,n.createTextVNode)((0,n.toDisplayString)((0,n.unref)(C)("calcPage.start")),1)])),_:1},8,["icon"]),(0,n.createVNode)(b,{icon:(0,n.unref)(an),onClick:Ft},{default:(0,n.withCtx)((()=>[(0,n.createTextVNode)((0,n.toDisplayString)((0,n.unref)(C)("calcPage.setupCalc")),1)])),_:1},8,["icon"]),(0,n.createVNode)(b,{icon:(0,n.unref)(an),onClick:Kt},{default:(0,n.withCtx)((()=>[(0,n.createTextVNode)((0,n.toDisplayString)((0,n.unref)(C)("calcPage.setupArt")),1)])),_:1},8,["icon"])])),_:1})]),(0,n.createElementVNode)("div",Sl,[(0,n.createVNode)(W,{trigger:"click",onCommand:$t,onClick:t[33]||(t[33]=e=>Ot(Ut.value)),"split-button":""},{dropdown:(0,n.withCtx)((()=>[(0,n.createVNode)($,null,{default:(0,n.withCtx)((()=>[Ut.value?((0,n.openBlock)(),(0,n.createBlock)(Z,{key:0,icon:"el-icon-s-tools",command:"save-preset"},{default:(0,n.withCtx)((()=>[(0,n.createTextVNode)((0,n.toDisplayString)((0,n.unref)(C)("calcPage.saveAsPreset")),1)])),_:1})):(0,n.createCommentVNode)("",!0),((0,n.openBlock)(!0),(0,n.createElementBlock)(n.Fragment,null,(0,n.renderList)((0,n.unref)(g).allFlat.value,((e,t)=>((0,n.openBlock)(),(0,n.createBlock)(Z,{divided:0===t&&!!Ut.value,key:e.name,icon:(0,n.unref)(ln.Z),command:"apply-"+e.name},{default:(0,n.withCtx)((()=>[(0,n.createTextVNode)((0,n.toDisplayString)(e.name),1)])),_:2},1032,["divided","icon","command"])))),128))])),_:1})])),default:(0,n.withCtx)((()=>[Ut.value?((0,n.openBlock)(),(0,n.createElementBlock)(n.Fragment,{key:1},[(0,n.createTextVNode)((0,n.toDisplayString)((0,n.unref)(C)("calcPage.savePreset"))+"「"+(0,n.toDisplayString)(Ut.value)+"」",1)],64)):((0,n.openBlock)(),(0,n.createElementBlock)(n.Fragment,{key:0},[(0,n.createTextVNode)((0,n.toDisplayString)((0,n.unref)(C)("calcPage.newPreset")),1)],64))])),_:1})]),(0,n.createVNode)(de,{modelValue:ze.value,"onUpdate:modelValue":t[37]||(t[37]=e=>ze.value=e)},{default:(0,n.withCtx)((()=>[(0,n.createVNode)(oe,{label:(0,n.unref)(C)("calcPage.tfNormal"),name:"normal"},{default:(0,n.withCtx)((()=>[(0,n.createVNode)(Le,{modelValue:(0,n.unref)(be),"onUpdate:modelValue":t[34]||(t[34]=e=>(0,n.isRef)(be)?be.value=e:null),"character-name":(0,n.unref)(D)},null,8,["modelValue","character-name"]),(0,n.unref)(Re)?((0,n.openBlock)(),(0,n.createElementBlock)("div",bl,[(0,n.createVNode)((0,n.unref)(Ye.Z),{modelValue:(0,n.unref)(Be),"onUpdate:modelValue":t[35]||(t[35]=e=>(0,n.isRef)(Be)?Be.value=e:null),"item-name":(0,n.unref)(be),configs:(0,n.unref)(Ae)},null,8,["modelValue","item-name","configs"])])):(0,n.createCommentVNode)("",!0),(0,n.createElementVNode)("div",Bl,[(0,n.createElementVNode)("div",wl,[(0,n.createElementVNode)("img",{src:(0,n.unref)(_e)},null,8,Dl)]),(0,n.createElementVNode)("div",_l,[(0,n.createElementVNode)("p",{class:"target-function-description",innerHTML:(0,n.unref)(Me)},null,8,Ml)])])])),_:1},8,["label"]),(0,n.createVNode)(oe,{label:"MONA-DSL",name:"dsl"},{default:(0,n.withCtx)((()=>[(0,n.createVNode)(f,{type:"warning",title:(0,n.unref)(C)("calcPage.beta"),closable:!1,style:{"margin-bottom":"8px"}},null,8,["title"]),(0,n.createVNode)(re,{type:"textarea",rows:10,placeholder:(0,n.unref)(C)("misc.code"),modelValue:(0,n.unref)(De),"onUpdate:modelValue":t[36]||(t[36]=e=>(0,n.isRef)(De)?De.value=e:null),class:"code-input"},null,8,["placeholder","modelValue"])])),_:1})])),_:1},8,["modelValue"]),Da.value.length>0?((0,n.openBlock)(),(0,n.createElementBlock)("div",Tl,[(0,n.createVNode)(f,{title:`共计算${Da.value.length}组圣遗物搭配`,type:"success",style:{"margin-bottom":"12px"}},null,8,["title"]),(0,n.createVNode)(x,{"model-value":_a.value,"onUpdate:modelValue":Ma,min:1,max:Da.value.length,style:{width:"100%"}},null,8,["model-value","max"]),(0,n.createVNode)((0,n.unref)(kt),{value:Da.value[_a.value-1].ratio,extra:Da.value[_a.value-1].value.toFixed(1),style:{"margin-top":"12px"}},null,8,["value","extra"])])):(0,n.createCommentVNode)("",!0)]),(0,n.createVNode)(E),(0,n.createElementVNode)("div",Rl,[Al,(0,n.createElementVNode)("div",Fl,[(0,n.createVNode)(b,{icon:(0,n.unref)(nn.Z),onClick:ta,title:"添加BUFF",circle:"",text:""},null,8,["icon"])]),(0,n.unref)(Qt).length>0?((0,n.openBlock)(),(0,n.createElementBlock)("div",Ll,[((0,n.openBlock)(!0),(0,n.createElementBlock)(n.Fragment,null,(0,n.renderList)((0,n.unref)(Qt),(e=>((0,n.openBlock)(),(0,n.createBlock)((0,n.unref)(Ge.Z),{key:e.id,buff:e,buffConfig:e.config,"onUpdate:buffConfig":t=>e.config=t,onDelete:t=>aa(e.id),onToggle:t=>na(e.id)},null,8,["buff","buffConfig","onUpdate:buffConfig","onDelete","onToggle"])))),128))])):((0,n.openBlock)(),(0,n.createElementBlock)("div",zl,[(0,n.createVNode)(se,{description:"无BUFF"})]))])])),_:1}),(0,n.createVNode)(ue,{sm:24,md:12,class:"middle-container mona-scroll-hidden"},{default:(0,n.withCtx)((()=>[(0,n.createElementVNode)("p",Pl,(0,n.toDisplayString)((0,n.unref)(C)("misc.artifact")),1),(0,n.createElementVNode)("div",Kl,[(0,n.createVNode)(P,null,{default:(0,n.withCtx)((()=>[(0,n.createVNode)(b,{icon:(0,n.unref)(on.Z),onClick:wa},{default:(0,n.withCtx)((()=>[(0,n.createTextVNode)((0,n.toDisplayString)((0,n.unref)(C)("calcPage.statAnalysis")),1)])),_:1},8,["icon"]),(0,n.createVNode)(b,{icon:(0,n.unref)(un),onClick:Ca},{default:(0,n.withCtx)((()=>[(0,n.createTextVNode)((0,n.toDisplayString)((0,n.unref)(C)("calcPage.saveKumi")),1)])),_:1},8,["icon"]),(0,n.createVNode)(b,{icon:(0,n.unref)(mn.Z),onClick:Ea},{default:(0,n.withCtx)((()=>[(0,n.createTextVNode)((0,n.toDisplayString)((0,n.unref)(C)("calcPage.useKumi")),1)])),_:1},8,["icon"]),(0,n.withDirectives)((0,n.createVNode)(b,{icon:(0,n.unref)(yt)?(0,n.unref)(pn.Z):(0,n.unref)(hn.Z),onClick:t[38]||(t[38]=()=>{(0,n.unref)(yt)?vt():gt()})},{default:(0,n.withCtx)((()=>[(0,n.createTextVNode)((0,n.toDisplayString)((0,n.unref)(yt)?(0,n.unref)(C)("calcPage.unlockAll"):(0,n.unref)(C)("calcPage.lockAll")),1)])),_:1},8,["icon"]),[[n.vShow,(0,n.unref)(Ke)>0]])])),_:1})]),(0,n.createElementVNode)("div",Ul,[((0,n.openBlock)(!0),(0,n.createElementBlock)(n.Fragment,null,(0,n.renderList)((0,n.unref)(Pe),((e,t)=>((0,n.openBlock)(),(0,n.createElementBlock)("div",{key:t,class:"artifact-item-or-button"},[(0,n.unref)(je)[t]?((0,n.openBlock)(),(0,n.createBlock)((0,n.unref)(Ze.Z),{key:0,item:(0,n.unref)(je)[t],selectable:"",buttons:!0,"delete-button":!0,onDelete:e=>(0,n.unref)(st)(t),onToggle:e=>(0,n.unref)(v).toggleArtifact((0,n.unref)(je)[t].id),onClick:e=>pt(t),class:"artifact-display"},null,8,["item","onDelete","onToggle","onClick"])):((0,n.openBlock)(),(0,n.createBlock)((0,n.unref)($e.Z),{key:1,onClick:e=>pt(t),class:"add-button"},null,8,["onClick"]))])))),128))]),(0,n.unref)(tt)?((0,n.openBlock)(),(0,n.createElementBlock)("div",Il,[(0,n.createElementVNode)("p",Zl,[(0,n.createElementVNode)("span",$l,(0,n.toDisplayString)((0,n.unref)(C)("calcPage.effect2")),1),(0,n.createElementVNode)("span",{innerHTML:(0,n.unref)(ot)},null,8,Ol)]),(0,n.unref)(Oe)?((0,n.openBlock)(),(0,n.createBlock)((0,n.unref)(Ye.Z),{key:0,modelValue:(0,n.unref)(Oe),"onUpdate:modelValue":t[39]||(t[39]=e=>(0,n.isRef)(Oe)?Oe.value=e:null),"item-name":(0,n.unref)(at),configs:(0,n.unref)(it)},null,8,["modelValue","item-name","configs"])):(0,n.createCommentVNode)("",!0)])):(0,n.createCommentVNode)("",!0),(0,n.unref)(et)?((0,n.openBlock)(),(0,n.createElementBlock)("div",Hl,[(0,n.createElementVNode)("p",jl,[(0,n.createElementVNode)("span",ql,(0,n.toDisplayString)((0,n.unref)(C)("calcPage.effect4")),1),(0,n.createElementVNode)("span",{innerHTML:(0,n.unref)(nt)},null,8,Wl)]),(0,n.unref)(Oe)?((0,n.openBlock)(),(0,n.createBlock)((0,n.unref)(Ye.Z),{key:0,modelValue:(0,n.unref)(Oe),"onUpdate:modelValue":t[40]||(t[40]=e=>(0,n.isRef)(Oe)?Oe.value=e:null),"item-name":(0,n.unref)(at),configs:(0,n.unref)(rt)},null,8,["modelValue","item-name","configs"])):(0,n.createCommentVNode)("",!0)])):(0,n.createCommentVNode)("",!0),(0,n.createVNode)(E),(0,n.createElementVNode)("p",Ql,(0,n.toDisplayString)((0,n.unref)(C)("calcPage.dmg")),1),(0,n.createElementVNode)("div",Yl,[(0,n.createVNode)(P,null,{default:(0,n.withCtx)((()=>[(0,n.createVNode)(b,{icon:(0,n.unref)(on.Z),onClick:sa},{default:(0,n.withCtx)((()=>[(0,n.createTextVNode)((0,n.toDisplayString)((0,n.unref)(C)("calcPage.detail")),1)])),_:1},8,["icon"]),(0,n.createVNode)(b,{icon:(0,n.unref)(an),onClick:w},{default:(0,n.withCtx)((()=>[(0,n.createTextVNode)((0,n.toDisplayString)((0,n.unref)(C)("calcPage.setupEnemy")),1)])),_:1},8,["icon"])])),_:1})]),(0,n.createElementVNode)("div",null,[(0,n.createElementVNode)("h3",Gl,(0,n.toDisplayString)((0,n.unref)(C)("calcPage.fumo")),1),(0,n.createVNode)(wn.Z,{modelValue:Q.value,"onUpdate:modelValue":t[41]||(t[41]=e=>Q.value=e),elements:["Pyro","Electro","Hydro","Anemo","Geo","Cryo","Dendro","None"]},null,8,["modelValue"])]),(0,n.unref)(j)?((0,n.openBlock)(),(0,n.createElementBlock)("div",Xl,[(0,n.createElementVNode)("h3",Jl,(0,n.toDisplayString)((0,n.unref)(C)("calcPage.skillConfig")),1),(0,n.createVNode)((0,n.unref)(Ye.Z),{modelValue:(0,n.unref)(O),"onUpdate:modelValue":t[42]||(t[42]=e=>(0,n.isRef)(O)?O.value=e:null),"item-name":(0,n.unref)(D),configs:(0,n.unref)(q)},null,8,["modelValue","item-name","configs"])])):(0,n.createCommentVNode)("",!0),(0,n.createElementVNode)("div",eo,[(0,n.createElementVNode)("h3",to,(0,n.toDisplayString)((0,n.unref)(C)("calcPage.skill")),1),(0,n.createVNode)(Ue,{modelValue:(0,n.unref)(H),"onUpdate:modelValue":t[43]||(t[43]=e=>(0,n.isRef)(H)?H.value=e:null),"character-name":(0,n.unref)(D),style:{"margin-bottom":"16px"}},null,8,["modelValue","character-name"]),(0,n.createVNode)((0,n.unref)(We),{"analysis-from-wasm":(0,n.unref)(ca)},null,8,["analysis-from-wasm"])]),(0,n.createElementVNode)("h3",ao,(0,n.toDisplayString)((0,n.unref)(C)("calcPage.dmg2")),1),(0,n.createVNode)((0,n.unref)(ut),{data:(0,n.unref)(da)},null,8,["data"])])),_:1}),(0,n.createVNode)(ue,{sm:24,md:6,class:"right-container mona-scroll-hidden"},{default:(0,n.withCtx)((()=>[(0,n.createElementVNode)("div",no,(0,n.toDisplayString)((0,n.unref)(C)("calcPage.panel")),1),(0,n.createElementVNode)("div",lo,[(0,n.createVNode)(b,{icon:(0,n.unref)(on.Z),onClick:ga},{default:(0,n.withCtx)((()=>[(0,n.createTextVNode)((0,n.toDisplayString)((0,n.unref)(C)("calcPage.statCurve")),1)])),_:1},8,["icon"])]),(0,n.createVNode)((0,n.unref)(Qe.Z),{attribute:(0,n.unref)(ma)},null,8,["attribute"])])),_:1})])),_:1})])}}});const ro=(0,Ae.Z)(oo,[["__scopeId","data-v-e6f47b84"]]);var io=ro},76404:function(e,t,a){a.d(t,{v:function(){return v}});var n=a(10311),l=a(86660),o=a(7361),r=a(90953),i=a(66080);const c=["light","dark"],d=(0,o.o8)({title:{type:String,default:""},description:{type:String,default:""},type:{type:String,values:(0,r.uc)(i.Rp),default:"info"},closable:{type:Boolean,default:!0},closeText:{type:String,default:""},showIcon:Boolean,center:Boolean,effect:{type:String,values:c,default:"light"}}),s={close:e=>e instanceof MouseEvent};var u=a(1446),m=a(25299);const h={name:"ElAlert"},p=(0,n.defineComponent)({...h,props:d,emits:s,setup(e,{emit:t}){const a=e,{Close:o}=i.f5,r=(0,n.useSlots)(),c=(0,m.s)("alert"),d=(0,n.ref)(!0),s=(0,n.computed)((()=>i.Rp[a.type])),u=(0,n.computed)((()=>[c.e("icon"),{[c.is("big")]:!!a.description||!!r.default}])),h=(0,n.computed)((()=>a.description||{[c.is("bold")]:r.default})),p=e=>{d.value=!1,t("close",e)};return(e,t)=>((0,n.openBlock)(),(0,n.createBlock)(n.Transition,{name:(0,n.unref)(c).b("fade"),persisted:""},{default:(0,n.withCtx)((()=>[(0,n.withDirectives)((0,n.createElementVNode)("div",{class:(0,n.normalizeClass)([(0,n.unref)(c).b(),(0,n.unref)(c).m(e.type),(0,n.unref)(c).is("center",e.center),(0,n.unref)(c).is(e.effect)]),role:"alert"},[e.showIcon&&(0,n.unref)(s)?((0,n.openBlock)(),(0,n.createBlock)((0,n.unref)(l.gn),{key:0,class:(0,n.normalizeClass)((0,n.unref)(u))},{default:(0,n.withCtx)((()=>[((0,n.openBlock)(),(0,n.createBlock)((0,n.resolveDynamicComponent)((0,n.unref)(s))))])),_:1},8,["class"])):(0,n.createCommentVNode)("v-if",!0),(0,n.createElementVNode)("div",{class:(0,n.normalizeClass)((0,n.unref)(c).e("content"))},[e.title||e.$slots.title?((0,n.openBlock)(),(0,n.createElementBlock)("span",{key:0,class:(0,n.normalizeClass)([(0,n.unref)(c).e("title"),(0,n.unref)(h)])},[(0,n.renderSlot)(e.$slots,"title",{},(()=>[(0,n.createTextVNode)((0,n.toDisplayString)(e.title),1)]))],2)):(0,n.createCommentVNode)("v-if",!0),e.$slots.default||e.description?((0,n.openBlock)(),(0,n.createElementBlock)("p",{key:1,class:(0,n.normalizeClass)((0,n.unref)(c).e("description"))},[(0,n.renderSlot)(e.$slots,"default",{},(()=>[(0,n.createTextVNode)((0,n.toDisplayString)(e.description),1)]))],2)):(0,n.createCommentVNode)("v-if",!0),e.closable?((0,n.openBlock)(),(0,n.createElementBlock)(n.Fragment,{key:2},[e.closeText?((0,n.openBlock)(),(0,n.createElementBlock)("div",{key:0,class:(0,n.normalizeClass)([(0,n.unref)(c).e("close-btn"),(0,n.unref)(c).is("customed")]),onClick:p},(0,n.toDisplayString)(e.closeText),3)):((0,n.openBlock)(),(0,n.createBlock)((0,n.unref)(l.gn),{key:1,class:(0,n.normalizeClass)((0,n.unref)(c).e("close-btn")),onClick:p},{default:(0,n.withCtx)((()=>[(0,n.createVNode)((0,n.unref)(o))])),_:1},8,["class"]))],64)):(0,n.createCommentVNode)("v-if",!0)],2)],2),[[n.vShow,d.value]])])),_:3},8,["name"]))}});var f=(0,u.Z)(p,[["__file","/home/runner/work/element-plus/element-plus/packages/components/alert/src/alert.vue"]]),g=a(85739);const v=(0,g.nz)(f)},74694:function(e,t,a){a(3392)},97367:function(e,t,a){a(13171)},3905:function(e,t,a){a(3392)}}]);