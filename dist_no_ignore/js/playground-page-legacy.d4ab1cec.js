"use strict";(self["webpackChunkgenshin_artifacts"]=self["webpackChunkgenshin_artifacts"]||[]).push([[607],{83797:function(e,t,l){l.r(t),l.d(t,{default:function(){return Ue}});var o=l(10311),a=l(35267),n=(l(45177),l(77049)),r=(l(7739),l(31838)),c=(l(87228),l(28785)),i=(l(9638),l(75915),l(14282)),u=(l(50580),l(19651)),d=(l(71683),l(8350)),s=(l(12573),l(33948),l(74916),l(20703)),f=l(14971),m=l(49324),p=l(68515),V=l(36939),g=l(73995),v=l(22507),h=l(34009),k=l(82749),N=l(94080),C=l(41704),y=l(45930),B=l(49059);let w=[];for(const[Ze,Fe]of Object.entries(B.Z))w.push(Fe.name);const E="monaDSL";y.languages.register({id:E}),y.languages.setMonarchTokensProvider(E,{characters:w,tokenizer:{root:[[/prop|dmg/,"keyword"],[/\d+(\.\d+)?/,"number"],[/normal|transformative|electro_charged|swirl_cryo|swirl_pyro|swirl_hydro|swirl_electro|overload|shatter|superconduct|super_conduct|spread|aggravate|bloom|hyperbloom|burgeon|burning|expect|expectation|critical|crit|non_critical|non_crit|recharge|em|atk|def|hp|crit0/,"prop"],[/print|min|max|type/,"global"],[/[a-zA-Z]\w*/,{cases:{"@characters":"characters","@default":"identifier"}}],[/\/\/.*$/,"comment"]]}}),y.editor.defineTheme("myTheme",{base:"vs-dark",inherit:!0,rules:[{token:"keyword",foreground:"FFA500"},{token:"number",foreground:"7A9EC2"},{token:"prop",foreground:"9E7BB0"},{token:"global",foreground:"A5C261"},{token:"characters",foreground:"99ff00"},{token:"identifier",foreground:"D3D3D3"}],colors:{"editor.foreground":"#CCCCCC"}});var x=(0,o.defineComponent)({__name:"MonaMonacoEditor",setup(e,{expose:t}){let l=null;function a(){const e=l.getValue();return e}t({getValue:a});const n=(0,o.ref)(null);return(0,o.onMounted)((()=>{n.value&&(l=y.editor.create(n.value,{value:"dmg a = Amber.transformative\noverload = a.overload\ne = a.electro_charged\nresult = overload * 10 + e * 8\nprint(result)",language:E,theme:"myTheme"}))})),(e,t)=>((0,o.openBlock)(),(0,o.createElementBlock)("div",{ref_key:"root",ref:n,class:"root"},null,512))}}),b=l(83744);const _=(0,b.Z)(x,[["__scopeId","data-v-115587b9"]]);var U=_,Z=l(83549),F=l(49744),R=l(76001),S=l(88392),A=l(17998),M=l(5746),D=l(68986);const T={preserveAspectRatio:"xMidYMid meet",viewBox:"0 0 512 512",width:"1.2em",height:"1.2em"},I=(0,o.createElementVNode)("path",{fill:"currentColor",d:"M512 256c0 141.4-114.6 256-256 256S0 397.4 0 256S114.6 0 256 0s256 114.6 256 256zM99.5 144.8C77.15 176.1 64 214.5 64 256c0 106 85.1 192 192 192c41.5 0 79.9-13.1 111.2-35.5L99.5 144.8zM448 256c0-106.9-86-192-192-192c-41.5 0-79.9 13.15-111.2 35.5l267.7 267.7C434.9 335.9 448 297.5 448 256z"},null,-1),z=[I];function L(e,t){return(0,o.openBlock)(),(0,o.createElementBlock)("svg",T,z)}var O={name:"fa6-solid-ban",render:L};const P={preserveAspectRatio:"xMidYMid meet",viewBox:"0 0 384 512",width:"1.2em",height:"1.2em"},q=(0,o.createElementVNode)("path",{fill:"currentColor",d:"M361 215c14.3 8.8 23 24.3 23 41s-8.7 32.2-23 40.1l-287.97 176c-14.82 9.9-33.37 10.3-48.51 1.8A48.02 48.02 0 0 1 0 432V80a48.02 48.02 0 0 1 24.52-41.87a48.019 48.019 0 0 1 48.51.91L361 215z"},null,-1),W=[q];function Y(e,t){return(0,o.openBlock)(),(0,o.createElementBlock)("svg",P,W)}var j={name:"fa6-solid-play",render:Y},G=l(75202),$=l(49811);const H=e=>((0,o.pushScopeId)("data-v-56788dfe"),e=e(),(0,o.popScopeId)(),e),J={class:"config-character"},K=["src"],Q={class:"select-character"},X=H((()=>(0,o.createElementVNode)("p",{class:"common-title"},"角色",-1))),ee={style:{display:"flex",gap:"12px"}},te={class:"config-character-skill"},le=H((()=>(0,o.createElementVNode)("h3",{class:"common-title2"},"技能",-1))),oe={class:"skill-div"},ae={class:"config-character-constellation"},ne=H((()=>(0,o.createElementVNode)("h3",{class:"common-title2"},"命之座",-1))),re={key:0,class:"character-extra-config"},ce={class:"config-weapon"},ie={class:"select-weapon"},ue=H((()=>(0,o.createElementVNode)("p",{class:"common-title"},"武器",-1))),de={style:{display:"flex",gap:"12px","margin-bottom":"8px"}},se={class:"config-weapon-refine"},fe=H((()=>(0,o.createElementVNode)("h3",{class:"common-title2"},"精炼",-1))),me={key:0,class:"weapon-extra-config"},pe={class:"config-buff"},Ve=H((()=>(0,o.createElementVNode)("p",{class:"common-title"},"BUFF",-1))),ge={class:"buff-tool",style:{"margin-bottom":"12px"}},ve={key:0,class:"buffs"},he={key:1},ke={class:"config-artifact"},Ne=H((()=>(0,o.createElementVNode)("p",{class:"common-title"},"圣遗物",-1))),Ce={class:"artifacts"},ye={class:"editor-container"},Be={class:"bottom"},we={class:"tool-bar"},Ee={class:"output mona-scroll-hidden"},xe={class:"output-row"};var be=(0,o.defineComponent)({__name:"MonaPlaygroundPage",setup(e){const{characterName:t,characterLevel:l,characterConfig:y,characterSkill1:B,characterSkill2:w,characterSkill3:E,characterConstellation:x,characterWeaponType:b,characterInterface:_,characterSplash:T,characterAscend:I,characterConfigConfig:z,characterNeedConfig:L}=(0,F.A)(),{weaponName:P,weaponLevel:q,weaponRefine:W,weaponConfig:Y,weaponNeedConfig:H,weaponConfigConfig:be,weaponAscend:_e,weaponInterface:Ue}=(0,R.t)(b),{buffs:Ze,buffsInterface:Fe,addBuff:Re,deleteBuff:Se,toggleBuff:Ae}=(0,S.q)(),Me=(0,o.ref)(!1);function De(e){Me.value=!1,Re(e)}function Te(){Me.value=!0}const{artifactIds:Ie,artifactSingleConfig:ze,artifactConfigForCalculator:Le,artifactWasmFormat:Oe,artifactNeedConfig4:Pe,artifactConfig4Configs:qe,artifactItems:We,removeArtifact:Ye,toggleArtifact:je,setArtifact:Ge}=(0,A.a)(),$e=(0,o.ref)(!1),He=(0,o.ref)("flower");function Je(e){const t=(0,M.VO)(He.value);Ie.value[t]=e,$e.value=!1}function Ke(e){const t=G.m7[e];$e.value=!0,He.value=t}const Qe=(0,o.ref)([]),Xe=(0,o.ref)(null),et=(0,o.computed)((()=>({character:_.value,weapon:Ue.value,buffs:Fe.value,artifact_config:Le.value,enemy:null})));function tt(e){Qe.value.push(e)}function lt(){Qe.value=[]}async function ot(){if(Xe.value){const e=et.value,t=Oe.value,l=Xe.value.getValue().trim(),o=await(0,$.n)(),a=o.DSLInterface.run(l,e,t);if(a.is_error){tt("[error]");for(const e of a.error_msg.split("\n"))tt(e)}else{tt("[success]");for(const e of a.output.split("\n"))tt(e)}}}return(e,_)=>{const F=d.d0,R=u.d6,S=i.os,A=n.mi,M=c.GT,I=r.Dv,G=n.MO,$=a.dq;return(0,o.openBlock)(),(0,o.createBlock)($,null,{default:(0,o.withCtx)((()=>[(0,o.createVNode)(F,{modelValue:Me.value,"onUpdate:modelValue":_[0]||(_[0]=e=>Me.value=e),title:"选择BUFF",width:(0,o.unref)(Z.B)?"60%":"90%"},{default:(0,o.withCtx)((()=>[(0,o.createVNode)((0,o.unref)(h.Z),{onSelect:De})])),_:1},8,["modelValue","width"]),(0,o.createVNode)(F,{title:"选择圣遗物",width:(0,o.unref)(Z.B)?"80%":"90%",modelValue:$e.value,"onUpdate:modelValue":_[1]||(_[1]=e=>$e.value=e)},{default:(0,o.withCtx)((()=>[(0,o.createVNode)((0,o.unref)(C.Z),{position:He.value,onSelect:Je},null,8,["position"])])),_:1},8,["width","modelValue"]),(0,o.createVNode)(I,{sm:24,md:6,class:"left mona-scroll-hidden",style:(0,o.normalizeStyle)((0,o.unref)(Z.B)?{paddingRight:"16px"}:{})},{default:(0,o.withCtx)((()=>[(0,o.createElementVNode)("div",J,[(0,o.createElementVNode)("img",{src:(0,o.unref)(T),class:"character-splash",alt:"角色"},null,8,K),(0,o.createElementVNode)("div",Q,[X,(0,o.createElementVNode)("div",ee,[(0,o.createVNode)((0,o.unref)(f.Z),{modelValue:(0,o.unref)(t),"onUpdate:modelValue":_[2]||(_[2]=e=>(0,o.isRef)(t)?t.value=e:null),style:{flex:"1"}},null,8,["modelValue"]),(0,o.createVNode)((0,o.unref)(p.Z),{modelValue:(0,o.unref)(l),"onUpdate:modelValue":_[3]||(_[3]=e=>(0,o.isRef)(l)?l.value=e:null),style:{flex:"1"}},null,8,["modelValue"])]),(0,o.createElementVNode)("div",te,[le,(0,o.createElementVNode)("div",oe,[(0,o.createVNode)(R,{"controls-position":"right",modelValue:(0,o.unref)(B),"onUpdate:modelValue":_[4]||(_[4]=e=>(0,o.isRef)(B)?B.value=e:null),min:1,max:15,style:{flex:"1",display:"block",width:"unset"}},null,8,["modelValue"]),(0,o.createVNode)(R,{"controls-position":"right",modelValue:(0,o.unref)(w),"onUpdate:modelValue":_[5]||(_[5]=e=>(0,o.isRef)(w)?w.value=e:null),min:1,max:15,style:{flex:"1",display:"block",width:"unset"}},null,8,["modelValue"]),(0,o.createVNode)(R,{"controls-position":"right",modelValue:(0,o.unref)(E),"onUpdate:modelValue":_[6]||(_[6]=e=>(0,o.isRef)(E)?E.value=e:null),min:1,max:15,style:{flex:"1",display:"block",width:"unset"}},null,8,["modelValue"])])]),(0,o.createElementVNode)("div",ae,[ne,(0,o.createVNode)(R,{"controls-position":"right",modelValue:(0,o.unref)(x),"onUpdate:modelValue":_[7]||(_[7]=e=>(0,o.isRef)(x)?x.value=e:null),min:0,max:6},null,8,["modelValue"])]),(0,o.unref)(L)?((0,o.openBlock)(),(0,o.createElementBlock)("div",re,[(0,o.createVNode)((0,o.unref)(s.Z),{modelValue:(0,o.unref)(y),"onUpdate:modelValue":_[8]||(_[8]=e=>(0,o.isRef)(y)?y.value=e:null),"item-name":(0,o.unref)(t),configs:(0,o.unref)(z)},null,8,["modelValue","item-name","configs"])])):(0,o.createCommentVNode)("",!0)])]),(0,o.createVNode)(S),(0,o.createElementVNode)("div",ce,[(0,o.createElementVNode)("div",ie,[ue,(0,o.createElementVNode)("div",de,[(0,o.createVNode)((0,o.unref)(m.Z),{type:(0,o.unref)(b),modelValue:(0,o.unref)(P),"onUpdate:modelValue":_[9]||(_[9]=e=>(0,o.isRef)(P)?P.value=e:null),style:{flex:"1"}},null,8,["type","modelValue"]),(0,o.createVNode)((0,o.unref)(V.Z),{modelValue:(0,o.unref)(q),"onUpdate:modelValue":_[10]||(_[10]=e=>(0,o.isRef)(q)?q.value=e:null),style:{flex:"1"}},null,8,["modelValue"])]),(0,o.createVNode)((0,o.unref)(g.Z),{"weapon-name":(0,o.unref)(P)},null,8,["weapon-name"]),(0,o.createElementVNode)("div",se,[fe,(0,o.createVNode)(R,{"controls-position":"right",modelValue:(0,o.unref)(W),"onUpdate:modelValue":_[11]||(_[11]=e=>(0,o.isRef)(W)?W.value=e:null),min:1,max:5},null,8,["modelValue"])]),(0,o.unref)(H)?((0,o.openBlock)(),(0,o.createElementBlock)("div",me,[(0,o.createVNode)((0,o.unref)(s.Z),{modelValue:(0,o.unref)(Y),"onUpdate:modelValue":_[12]||(_[12]=e=>(0,o.isRef)(Y)?Y.value=e:null),"item-name":(0,o.unref)(P),configs:(0,o.unref)(be)},null,8,["modelValue","item-name","configs"])])):(0,o.createCommentVNode)("",!0)])]),(0,o.createVNode)(S),(0,o.createElementVNode)("div",pe,[Ve,(0,o.createElementVNode)("div",ge,[(0,o.createVNode)(A,{icon:(0,o.unref)(D.Z),onClick:Te,title:"添加BUFF",circle:"",text:""},null,8,["icon"])]),(0,o.unref)(Ze).length>0?((0,o.openBlock)(),(0,o.createElementBlock)("div",ve,[((0,o.openBlock)(!0),(0,o.createElementBlock)(o.Fragment,null,(0,o.renderList)((0,o.unref)(Ze),(e=>((0,o.openBlock)(),(0,o.createBlock)((0,o.unref)(v.Z),{key:e.id,buff:e,buffConfig:e.config,"onUpdate:buffConfig":t=>e.config=t,onDelete:t=>(0,o.unref)(Se)(e.id),onToggle:t=>(0,o.unref)(Ae)(e.id)},null,8,["buff","buffConfig","onUpdate:buffConfig","onDelete","onToggle"])))),128))])):((0,o.openBlock)(),(0,o.createElementBlock)("div",he,[(0,o.createVNode)(M,{description:"无BUFF"})]))]),(0,o.createVNode)(S),(0,o.createElementVNode)("div",ke,[Ne,(0,o.createElementVNode)("div",Ce,[((0,o.openBlock)(!0),(0,o.createElementBlock)(o.Fragment,null,(0,o.renderList)((0,o.unref)(Ie),((e,t)=>((0,o.openBlock)(),(0,o.createElementBlock)("div",{key:t,class:"artifact-item-or-button"},[(0,o.unref)(We)[t]?((0,o.openBlock)(),(0,o.createBlock)((0,o.unref)(k.Z),{key:0,item:(0,o.unref)(We)[t],selectable:"",buttons:!0,"delete-button":!0,onDelete:e=>(0,o.unref)(Ye)(t),onToggle:t=>(0,o.unref)(je)(e),onClick:e=>Ke(t),class:"artifact-display"},null,8,["item","onDelete","onToggle","onClick"])):((0,o.openBlock)(),(0,o.createBlock)((0,o.unref)(N.Z),{key:1,onClick:e=>Ke(t),class:"add-button"},null,8,["onClick"]))])))),128))])])])),_:1},8,["style"]),(0,o.createVNode)(I,{sm:24,md:18,class:"right mona-scroll-hidden"},{default:(0,o.withCtx)((()=>[(0,o.createElementVNode)("div",ye,[(0,o.createVNode)(U,{ref_key:"editor",ref:Xe},null,512)]),(0,o.createElementVNode)("div",Be,[(0,o.createElementVNode)("div",we,[(0,o.createVNode)(G,null,{default:(0,o.withCtx)((()=>[(0,o.createVNode)(A,{icon:(0,o.unref)(j),onClick:ot,size:"small",text:"",title:"运行",type:"primary"},{default:(0,o.withCtx)((()=>[(0,o.createTextVNode)("运行")])),_:1},8,["icon"]),(0,o.createVNode)(A,{icon:(0,o.unref)(O),onClick:lt,text:"",title:"清除输出",size:"small"},null,8,["icon"])])),_:1})]),(0,o.createElementVNode)("div",Ee,[((0,o.openBlock)(!0),(0,o.createElementBlock)(o.Fragment,null,(0,o.renderList)(Qe.value,(e=>((0,o.openBlock)(),(0,o.createElementBlock)("p",xe,(0,o.toDisplayString)(e),1)))),256))])])])),_:1})])),_:1})}}});const _e=(0,b.Z)(be,[["__scopeId","data-v-56788dfe"]]);var Ue=_e}}]);